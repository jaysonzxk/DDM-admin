{"remainingRequest":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/DDM-admin/src/utils/request.js","dependencies":[{"path":"/Users/mac/Desktop/DDM-admin/src/utils/request.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/babel.config.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1703645364828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbWFjL0Rlc2t0b3AvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX3R5cGVvZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9tYWMvRGVza3RvcC9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIik7CnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImF4aW9zIikpOwp2YXIgX2VsZW1lbnRVaSA9IHJlcXVpcmUoImVsZW1lbnQtdWkiKTsKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7CnZhciBfZXJyb3JDb2RlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL2Vycm9yQ29kZSIpKTsKX2F4aW9zLmRlZmF1bHQuZGVmYXVsdHMuaGVhZGVyc1siQ29udGVudC1UeXBlIl0gPSAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IjsKLy8g5Yib5bu6YXhpb3Plrp7kvosKdmFyIHNlcnZpY2UgPSBfYXhpb3MuZGVmYXVsdC5jcmVhdGUoewogIC8vIGF4aW9z5Lit6K+35rGC6YWN572u5pyJYmFzZVVSTOmAiemhue+8jOihqOekuuivt+axglVSTOWFrOWFsemDqOWIhgogIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgLy8g6LaF5pe2CiAgdGltZW91dDogMTAwMDAKfSk7Ci8vIHJlcXVlc3Tmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOaYr+WQpumcgOimgeiuvue9riB0b2tlbgogIHZhciBpc1Rva2VuID0gKGNvbmZpZy5oZWFkZXJzIHx8IHt9KS5pc1Rva2VuID09PSBmYWxzZTsKICBpZiAoKDAsIF9hdXRoLmdldFRva2VuKSgpICYmICFpc1Rva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkpXVCAiICsgKDAsIF9hdXRoLmdldFRva2VuKSgpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CiAgLy8gZ2V06K+35rGC5pig5bCEcGFyYW1z5Y+C5pWwCiAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICJnZXQiICYmIGNvbmZpZy5wYXJhbXMpIHsKICAgIHZhciB1cmwgPSBjb25maWcudXJsICsgIj8iOwogICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcucGFyYW1zKTsgX2kgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgIHZhciBwcm9wTmFtZSA9IF9PYmplY3Qka2V5c1tfaV07CiAgICAgIHZhciB2YWx1ZSA9IGNvbmZpZy5wYXJhbXNbcHJvcE5hbWVdOwogICAgICB2YXIgcGFydCA9IGVuY29kZVVSSUNvbXBvbmVudChwcm9wTmFtZSkgKyAiPSI7CiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgaWYgKCgwLCBfdHlwZW9mMi5kZWZhdWx0KSh2YWx1ZSkgPT09ICJvYmplY3QiKSB7CiAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfT2JqZWN0JGtleXMyID0gT2JqZWN0LmtleXModmFsdWUpOyBfaTIgPCBfT2JqZWN0JGtleXMyLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgdmFyIGtleSA9IF9PYmplY3Qka2V5czJbX2kyXTsKICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHByb3BOYW1lICsgIlsiICsga2V5ICsgIl0iOwogICAgICAgICAgICB2YXIgc3ViUGFydCA9IGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXMpICsgIj0iOwogICAgICAgICAgICB1cmwgKz0gc3ViUGFydCArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZVtrZXldKSArICImIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXJsICs9IHBhcnQgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgIiYiOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgdXJsID0gdXJsLnNsaWNlKDAsIC0xKTsKICAgIGNvbmZpZy5wYXJhbXMgPSB7fTsKICAgIGNvbmZpZy51cmwgPSB1cmw7CiAgfQogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5ZON5bqU5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgLy8g5pyq6K6+572u54q25oCB56CB5YiZ6buY6K6k5oiQ5Yqf54q25oCBCiAgdmFyIGNvZGUgPSByZXMuZGF0YS5jb2RlIHx8IDIwMDsKICAvLyDojrflj5bplJnor6/kv6Hmga8KICB2YXIgbXNnID0gX2Vycm9yQ29kZS5kZWZhdWx0W2NvZGVdIHx8IHJlcy5kYXRhLm1zZyB8fCBfZXJyb3JDb2RlLmRlZmF1bHRbImRlZmF1bHQiXTsKICBjb25zb2xlLmxvZyhjb2RlKTsKICBpZiAoY29kZSA9PT0gNDAxKSB7CiAgICBfZWxlbWVudFVpLk1lc3NhZ2VCb3guY29uZmlybSgi55m75b2V54q25oCB5bey6L+H5pyf77yM5oKo5Y+v5Lul57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VIiwgIuezu+e7n+aPkOekuiIsIHsKICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLph43mlrDnmbvlvZUiLAogICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgdHlwZTogIndhcm5pbmciCiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgbG9jYXRpb24uaHJlZiA9ICIvaW5kZXgiOwogICAgfSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSA1MDApIHsKICAgICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgICAgbWVzc2FnZTogbXNnLAogICAgICB0eXBlOiAiZXJyb3IiCiAgICB9KTsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobXNnKSk7CiAgfSBlbHNlIGlmIChjb2RlICE9PSAyMDApIHsKICAgIF9lbGVtZW50VWkuTm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgdGl0bGU6IG1zZwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoImVycm9yIik7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXMuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCJlcnIiICsgZXJyb3IpOwogIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICBpZiAobWVzc2FnZSA9PSAiTmV0d29yayBFcnJvciIpIHsKICAgIG1lc3NhZ2UgPSAi5ZCO56uv5o6l5Y+j6L+e5o6l5byC5bi4IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoInRpbWVvdXQiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6Por7fmsYLotoXml7YiOwogIH0gZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSIpKSB7CiAgICBtZXNzYWdlID0gIuezu+e7n+aOpeWPoyIgKyBtZXNzYWdlLnN1YnN0cihtZXNzYWdlLmxlbmd0aCAtIDMpICsgIuW8guW4uCI7CiAgfQogICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICB0eXBlOiAiZXJyb3IiLAogICAgZHVyYXRpb246IDUgKiAxMDAwCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IHNlcnZpY2U7"},{"version":3,"names":["_axios","_interopRequireDefault","require","_elementUi","_auth","_errorCode","axios","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","getToken","method","params","url","_i","_Object$keys","Object","keys","length","propName","value","part","encodeURIComponent","_typeof2","default","_i2","_Object$keys2","key","subPart","slice","error","console","log","Promise","reject","response","res","code","data","msg","errorCode","MessageBox","confirm","confirmButtonText","cancelButtonText","type","then","location","href","Message","message","Error","Notification","title","includes","substr","duration","_default","exports"],"sources":["/Users/mac/Desktop/DDM-admin/src/utils/request.js"],"sourcesContent":["import axios from \"axios\";\nimport { Notification, MessageBox, Message } from \"element-ui\";\nimport { getToken } from \"@/utils/auth\";\nimport errorCode from \"@/utils/errorCode\";\n\naxios.defaults.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n// 创建axios实例\nconst service = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 10000\n});\n// request拦截器\nservice.interceptors.request.use(config => {\n  // 是否需要设置 token\n  const isToken = (config.headers || {}).isToken === false;\n  if (getToken() && !isToken) {\n    config.headers[\"Authorization\"] = \"JWT \" + getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  // get请求映射params参数\n  if (config.method === \"get\" && config.params) {\n    let url = config.url + \"?\";\n    for (const propName of Object.keys(config.params)) {\n      const value = config.params[propName];\n      var part = encodeURIComponent(propName) + \"=\";\n      if (value !== null && typeof (value) !== \"undefined\") {\n        if (typeof value === \"object\") {\n          for (const key of Object.keys(value)) {\n            const params = propName + \"[\" + key + \"]\";\n            var subPart = encodeURIComponent(params) + \"=\";\n            url += subPart + encodeURIComponent(value[key]) + \"&\";\n          }\n        } else {\n          url += part + encodeURIComponent(value) + \"&\";\n        }\n      }\n    }\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  return config;\n}, error => {\n  console.log(error);\n  Promise.reject(error);\n});\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n  // 未设置状态码则默认成功状态\n  const code = res.data.code || 200;\n  // 获取错误信息\n  const msg = errorCode[code] || res.data.msg || errorCode[\"default\"];\n  console.log(code)\n  if (code === 401) {\n    MessageBox.confirm(\"登录状态已过期，您可以继续留在该页面，或者重新登录\", \"系统提示\", {\n      confirmButtonText: \"重新登录\",\n      cancelButtonText: \"取消\",\n      type: \"warning\"\n    }\n    ).then(() => {\n      location.href = \"/index\";\n    });\n  } else if (code === 500) {\n    Message({\n      message: msg,\n      type: \"error\"\n    });\n    return Promise.reject(new Error(msg));\n  } else if (code !== 200) {\n    Notification.error({\n      title: msg\n    });\n    return Promise.reject(\"error\");\n  } else {\n    return res.data;\n  }\n},\nerror => {\n  console.log(\"err\" + error);\n  let { message } = error;\n  if (message == \"Network Error\") {\n    message = \"后端接口连接异常\";\n  } else if (message.includes(\"timeout\")) {\n    message = \"系统接口请求超时\";\n  } else if (message.includes(\"Request failed with status code\")) {\n    message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n  }\n  Message({\n    message: message,\n    type: \"error\",\n    duration: 5 * 1000\n  });\n  return Promise.reject(error);\n}\n);\n\nexport default service;\n"],"mappings":"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"}]}