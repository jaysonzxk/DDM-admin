{"remainingRequest":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/DDM-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/DDM-admin/src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mac/Desktop/DDM-admin/src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/babel.config.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1703645364828},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/vue-loader/lib/index.js","mtime":1703645365038}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL21hYy9EZXNrdG9wL0RETS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgKiBhcyBTeW5jRGF0YUFwaSBmcm9tICJAL2FwaS9hZG1pbi9tb25pdG9yL2NlbGVyeSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZW50aXR5OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBjcmVhdGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICI1MCUiCiAgICB9LAogICAgdGFnczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdHM6IFt7CiAgICAgICAgbGFiZWw6ICLlpKkiLAogICAgICAgIHZhbHVlOiAiZGF5cyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi5bCP5pe2IiwKICAgICAgICB2YWx1ZTogImhvdXJzIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLliIbpkp8iLAogICAgICAgIHZhbHVlOiAibWludXRlcyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi56eSIiwKICAgICAgICB2YWx1ZTogInNlY29uZHMiCiAgICAgIH1dLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZvcm06IHsKICAgICAgICBpbnN0YW5jZUlkOiAiIiwKICAgICAgICBldmVyeTogMSwKICAgICAgICBwZXJpb2Q6ICIiLAogICAgICAgIHRpdGxlOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRpYWxvZ1RpdGxlOiBmdW5jdGlvbiBkaWFsb2dUaXRsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlID8gIuaWsOWinuS7u+WKoemikeeOhyIgOiAi57yW6L6R5Lu75Yqh6aKR546HIjsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHZhbDsKICAgIH0sCiAgICBkaWFsb2dWaXNpYmxlOiBmdW5jdGlvbiBkaWFsb2dWaXNpYmxlKHZhbCkgewogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHZhbCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgZGlhbG9nT3BlbjogZnVuY3Rpb24gZGlhbG9nT3BlbigpIHsKICAgICAgLy8g5Li6VHJ1ZeaEj+WRs+edgOaYr+mAmui/h+mBjeWPiuaWueW8j+aJk+W8gOWvueivneahhgogICAgICBpZiAoIXRoaXMuY3JlYXRlKSB7CiAgICAgICAgdGhpcy5mb3JtID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5lbnRpdHkpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdmFyIGRhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5mb3JtKTsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmZvcm0pOwogICAgICAgICAgaWYgKF90aGlzLmNyZWF0ZSkgewogICAgICAgICAgICBkZWxldGUgZGF0YVsiaW5zdGFuY2VJZCJdOwogICAgICAgICAgICBTeW5jRGF0YUFwaS5jcmVhdGVJbnRlcnZhbHNjaGVkdWxlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzdWNjZXNzIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nQ2xvc2UoKTsKICAgICAgICAgICAgICBfdGhpcy5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8hIik7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgU3luY0RhdGFBcGkudXBkYXRlSW50ZXJ2YWxzY2hlZHVsZShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzdWNjZXNzIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIF90aGlzLm1zZ1N1Y2Nlc3MoIuabtOaWsOaIkOWKnyEiKTsKICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dDbG9zZSgpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGRpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0ucmVzZXRGaWVsZHMoKTsKICAgICAgdGhpcy4kcGFyZW50LmluaXREYXRhKCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"names":["SyncDataApi","props","entity","type","Object","default","value","Boolean","create","width","String","tags","Array","_default","data","lists","label","loading","dialogVisible","form","instanceId","every","period","title","computed","dialogTitle","watch","val","$emit","created","methods","dialogOpen","_objectSpread","handleSubmit","_this","$refs","validate","valid","console","log","createIntervalschedule","then","response","dialogClose","msgSuccess","catch","updateIntervalschedule","resetFields","$parent","initData"],"sources":["src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue"],"sourcesContent":["<!--\n@author: xuchi\n@description: 接口编辑组件\n-->\n<template>\n  <small-dialog\n    ref=\"dialog\"\n    v-model=\"dialogVisible\"\n    :dialog-title=\"dialogTitle\"\n    :width=\"width\"\n    icon=\"svg:icon-interface\"\n    @confirm=\"handleSubmit\"\n    @closed=\"dialogClose\"\n    @opened=\"dialogOpen\"\n  >\n    <el-form ref=\"form\" v-loading=\"loading\" :model=\"form\" :size=\"$ELEMENT.size\" label-width=\"120px\">\n      <el-form-item v-show=\"false\" prop=\"instanceId\" label=\"instanceId\" style=\"width: 200px;\">\n        <el-input v-model=\"form.instanceId\" readonly />\n      </el-form-item>\n      <el-form-item prop=\"every\" label=\"频率:\">\n        <el-input-number v-model=\"form.every\" :min=\"1\" label=\"频率\" />\n      </el-form-item>\n      <el-form-item prop=\"period\" label=\"周期:\">\n        <el-select v-model=\"form.period\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"(item,index) in lists\"\n            :key=\"index.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </small-dialog>\n</template>\n<script>\nimport * as SyncDataApi from \"@/api/admin/monitor/celery\";\n\nexport default {\n  props: {\n    entity: { type: Object, default: null },\n    value: { type: Boolean, default: null },\n    create: { type: Boolean, default: false },\n    width: { type: String, default: \"50%\" },\n    tags: { type: Array, default: () => [] }\n  },\n  data() {\n    return {\n      lists: [\n        { label: \"天\", value: \"days\" },\n        { label: \"小时\", value: \"hours\" },\n        { label: \"分钟\", value: \"minutes\" },\n        { label: \"秒\", value: \"seconds\" }\n      ],\n      loading: false,\n      dialogVisible: false,\n      form: {\n        instanceId: \"\",\n        every: 1,\n        period: \"\",\n        title: \"\"\n      }\n    };\n  },\n  computed: {\n    dialogTitle() {\n      return this.create ? \"新增任务频率\" : \"编辑任务频率\";\n    }\n  },\n  watch: {\n    value(val) {\n      this.dialogVisible = val;\n    },\n    dialogVisible(val) {\n      this.$emit(\"input\", val);\n    }\n  },\n  created() {\n  },\n  methods: {\n    dialogOpen() {\n      // 为True意味着是通过遍及方式打开对话框\n      if (!this.create) {\n        this.form = { ...this.entity };\n      }\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          const data = { ...this.form };\n          console.log(this.form);\n          if (this.create) {\n            delete data[\"instanceId\"];\n            SyncDataApi.createIntervalschedule(data).then(response => {\n              this.loading = false;\n              this.$emit(\"success\", response.data);\n              this.dialogClose();\n              this.msgSuccess(\"新增成功!\");\n            }).catch(() => {\n              this.loading = false;\n            });\n          } else {\n            SyncDataApi.updateIntervalschedule(data).then(response => {\n              this.$emit(\"success\", response.data);\n              this.loading = false;\n              this.msgSuccess(\"更新成功!\");\n              this.dialogClose();\n            }).catch(() => {\n              this.loading = false;\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    dialogClose() {\n      this.$refs[\"form\"].resetFields();\n      this.$parent.initData();\n      this.dialogVisible = false;\n    }\n  }\n};\n</script>\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,YAAAA,WAAA;AAEA;EACAC,KAAA;IACAC,MAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;IACAC,KAAA;MAAAH,IAAA,EAAAI,OAAA;MAAAF,OAAA;IAAA;IACAG,MAAA;MAAAL,IAAA,EAAAI,OAAA;MAAAF,OAAA;IAAA;IACAI,KAAA;MAAAN,IAAA,EAAAO,MAAA;MAAAL,OAAA;IAAA;IACAM,IAAA;MAAAR,IAAA,EAAAS,KAAA;MAAAP,OAAA,WAAAQ,SAAA;QAAA;MAAA;IAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA,GACA;QAAAC,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,EACA;MACAW,OAAA;MACAC,aAAA;MACAC,IAAA;QACAC,UAAA;QACAC,KAAA;QACAC,MAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,YAAAjB,MAAA;IACA;EACA;EACAkB,KAAA;IACApB,KAAA,WAAAA,MAAAqB,GAAA;MACA,KAAAT,aAAA,GAAAS,GAAA;IACA;IACAT,aAAA,WAAAA,cAAAS,GAAA;MACA,KAAAC,KAAA,UAAAD,GAAA;IACA;EACA;EACAE,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA;MACA,UAAAvB,MAAA;QACA,KAAAW,IAAA,GAAAa,aAAA,UAAA9B,MAAA;MACA;IACA;IACA+B,YAAA,WAAAA,aAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,KAAA,SAAAC,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACAH,KAAA,CAAAjB,OAAA;UACA,IAAAH,IAAA,GAAAkB,aAAA,KAAAE,KAAA,CAAAf,IAAA;UACAmB,OAAA,CAAAC,GAAA,CAAAL,KAAA,CAAAf,IAAA;UACA,IAAAe,KAAA,CAAA1B,MAAA;YACA,OAAAM,IAAA;YACAd,WAAA,CAAAwC,sBAAA,CAAA1B,IAAA,EAAA2B,IAAA,WAAAC,QAAA;cACAR,KAAA,CAAAjB,OAAA;cACAiB,KAAA,CAAAN,KAAA,YAAAc,QAAA,CAAA5B,IAAA;cACAoB,KAAA,CAAAS,WAAA;cACAT,KAAA,CAAAU,UAAA;YACA,GAAAC,KAAA;cACAX,KAAA,CAAAjB,OAAA;YACA;UACA;YACAjB,WAAA,CAAA8C,sBAAA,CAAAhC,IAAA,EAAA2B,IAAA,WAAAC,QAAA;cACAR,KAAA,CAAAN,KAAA,YAAAc,QAAA,CAAA5B,IAAA;cACAoB,KAAA,CAAAjB,OAAA;cACAiB,KAAA,CAAAU,UAAA;cACAV,KAAA,CAAAS,WAAA;YACA,GAAAE,KAAA;cACAX,KAAA,CAAAjB,OAAA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA0B,WAAA,WAAAA,YAAA;MACA,KAAAR,KAAA,SAAAY,WAAA;MACA,KAAAC,OAAA,CAAAC,QAAA;MACA,KAAA/B,aAAA;IACA;EACA;AACA"}]}