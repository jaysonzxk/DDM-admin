{"remainingRequest":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/jayson/Desktop/work/DDM-admin/src/store/modules/modelSelect.js","dependencies":[{"path":"/Users/jayson/Desktop/work/DDM-admin/src/store/modules/modelSelect.js","mtime":1720245294011},{"path":"/Users/jayson/Desktop/work/DDM-admin/babel.config.js","mtime":1720245284261},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1720245285342}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKdmFyIF9yZWdlbmVyYXRvclJ1bnRpbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lLmpzIikpOwp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIpKTsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKdmFyIG1vZGVsU2VsZWN0ID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIG1vZGVsU2VsZWN0TWFwOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRNb2RlbFNlbGVjdE1hcDogZnVuY3Rpb24gc2V0TW9kZWxTZWxlY3RNYXAoc3RhdGUsIG1vZGVsU2VsZWN0TWFwKSB7CiAgICAgIHN0YXRlLm1vZGVsU2VsZWN0TWFwID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgc3RhdGUubW9kZWxTZWxlY3RNYXApLCBtb2RlbFNlbGVjdE1hcCk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDku47lkI7lj7Dojrflj5bpnIDopoEgc2VsZWN0IOmAieaLqeaVsOaNrgogICAgLy8gbW9kZWxOYW1lIDog5qih5Z6LIG5hbWUKICAgIC8vIGxhYmVsTmFtZSA6IOWQjuerr+aOpeWPo+i/lOWbnuaXtu+8jOmFjee9ruS4i+aLiemAieaLqeaXtuaYvuekuueahOWQjeWtl+Wtl+aute+8jOWmgu+8mm5hbWUvdGl0bGUvbmlja05hbWUKICAgIC8vIGxpc3RBcGkgOiDmn6Xor6LliJfooajnmoRhcGkKICAgIGdldE1vZGVsU2VsZWN0OiBmdW5jdGlvbiBnZXRNb2RlbFNlbGVjdChfcmVmLCBwYXJhbXNNYXApIHsKICAgICAgcmV0dXJuICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgc3RhdGUsIG1vZGVsTmFtZSwgbGFiZWxOYW1lLCBsaXN0QXBpLCBwYXJhbXMsIHJlc2V0LCByZXMsIG1vZGVsU2VsZWN0TWFwLCBkaWN0OwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgICAgICAgICAgICBtb2RlbE5hbWUgPSBwYXJhbXNNYXBbIm1vZGVsTmFtZSJdOwogICAgICAgICAgICAgIGxhYmVsTmFtZSA9IHBhcmFtc01hcFsibGFiZWxOYW1lIl07CiAgICAgICAgICAgICAgbGlzdEFwaSA9IHBhcmFtc01hcFsibGlzdEFwaSJdOwogICAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtc01hcFsicGFyYW1zIl07CiAgICAgICAgICAgICAgcmVzZXQgPSBwYXJhbXNNYXBbInJlc2V0Il07CiAgICAgICAgICAgICAgaWYgKCEoIXJlc2V0ICYmIHN0YXRlLm1vZGVsU2VsZWN0TWFwW21vZGVsTmFtZV0pKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3RhdGUubW9kZWxTZWxlY3RNYXBbbW9kZWxOYW1lXSk7CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgIHJldHVybiBsaXN0QXBpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7CiAgICAgICAgICAgICAgICBwYWdlTnVtOiAiYWxsIgogICAgICAgICAgICAgIH0sIHBhcmFtcykpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBtb2RlbFNlbGVjdE1hcCA9IHt9OwogICAgICAgICAgICAgIGRpY3QgPSBbXTsKICAgICAgICAgICAgICByZXMuZGF0YSAmJiByZXMuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGRpY3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtW2xhYmVsTmFtZV0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6IGl0ZW0ucGFyZW50SWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIG1vZGVsU2VsZWN0TWFwW21vZGVsTmFtZV0gPSBkaWN0OwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TW9kZWxTZWxlY3RNYXAiLCBtb2RlbFNlbGVjdE1hcCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3RhdGUubW9kZWxTZWxlY3RNYXBbbW9kZWxOYW1lXSk7CiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRNb2RlbFNlbGVjdDogZnVuY3Rpb24gZ2V0TW9kZWxTZWxlY3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1vZGVsU2VsZWN0TWFwOwogICAgfQogIH0KfTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gbW9kZWxTZWxlY3Q7"},{"version":3,"names":["modelSelect","namespaced","state","modelSelectMap","mutations","setModelSelectMap","_objectSpread2","default","actions","getModelSelect","_ref","paramsMap","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","commit","modelName","labelName","listApi","params","reset","res","dict","wrap","_callee$","_context","prev","next","abrupt","pageNum","sent","code","data","map","item","push","label","value","id","parentId","stop","getters","_default","exports"],"sources":["/Users/jayson/Desktop/work/DDM-admin/src/store/modules/modelSelect.js"],"sourcesContent":["const modelSelect = {\n  namespaced: true,\n  state: {\n    modelSelectMap: {}\n  },\n  mutations: {\n    setModelSelectMap(state, modelSelectMap) {\n      state.modelSelectMap = { ...state.modelSelectMap, ...modelSelectMap };\n    }\n  },\n  actions: {\n    // 从后台获取需要 select 选择数据\n    // modelName : 模型 name\n    // labelName : 后端接口返回时，配置下拉选择时显示的名字字段，如：name/title/nickName\n    // listApi : 查询列表的api\n    async getModelSelect({ commit, state }, paramsMap) {\n      const modelName = paramsMap[\"modelName\"];\n      const labelName = paramsMap[\"labelName\"];\n      const listApi = paramsMap[\"listApi\"];\n      const params = paramsMap[\"params\"];\n      const reset = paramsMap[\"reset\"];\n      if (!reset && state.modelSelectMap[modelName]) {\n        return state.modelSelectMap[modelName];\n      } else {\n        const res = await listApi({ pageNum: \"all\", ...params });\n        if (res.code === 200) {\n          const modelSelectMap = {};\n          const dict = [];\n          res.data && res.data.map(item => {\n            dict.push({\n              label: item[labelName],\n              value: item.id,\n              id: item.id,\n              parentId: item.parentId\n            });\n          });\n          modelSelectMap[modelName] = dict;\n          commit(\"setModelSelectMap\", modelSelectMap);\n          return state.modelSelectMap[modelName];\n        }\n      }\n    }\n  },\n  getters: {\n    getModelSelect(state) {\n      return state.modelSelectMap;\n    }\n  }\n};\nexport default modelSelect;\n"],"mappings":"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"}]}