{"remainingRequest":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js","dependencies":[{"path":"/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/babel.config.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1703645364828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvbWFjL0Rlc2t0b3AvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnZhciBfcmVnZW5lcmF0b3JSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL21hYy9EZXNrdG9wL0RETS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9yZWdlbmVyYXRvclJ1bnRpbWUuanMiKSk7CnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9tYWMvRGVza3RvcC9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvci5qcyIpKTsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvbWFjL0Rlc2t0b3AvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CnZhciBtb2RlbFNlbGVjdCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBtb2RlbFNlbGVjdE1hcDoge30KICB9LAogIG11dGF0aW9uczogewogICAgc2V0TW9kZWxTZWxlY3RNYXA6IGZ1bmN0aW9uIHNldE1vZGVsU2VsZWN0TWFwKHN0YXRlLCBtb2RlbFNlbGVjdE1hcCkgewogICAgICBzdGF0ZS5tb2RlbFNlbGVjdE1hcCA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIHN0YXRlLm1vZGVsU2VsZWN0TWFwKSwgbW9kZWxTZWxlY3RNYXApOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g5LuO5ZCO5Y+w6I635Y+W6ZyA6KaBIHNlbGVjdCDpgInmi6nmlbDmja4KICAgIC8vIG1vZGVsTmFtZSA6IOaooeWeiyBuYW1lCiAgICAvLyBsYWJlbE5hbWUgOiDlkI7nq6/mjqXlj6Pov5Tlm57ml7bvvIzphY3nva7kuIvmi4npgInmi6nml7bmmL7npLrnmoTlkI3lrZflrZfmrrXvvIzlpoLvvJpuYW1lL3RpdGxlL25pY2tOYW1lCiAgICAvLyBsaXN0QXBpIDog5p+l6K+i5YiX6KGo55qEYXBpCiAgICBnZXRNb2RlbFNlbGVjdDogZnVuY3Rpb24gZ2V0TW9kZWxTZWxlY3QoX3JlZiwgcGFyYW1zTWFwKSB7CiAgICAgIHJldHVybiAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBtb2RlbE5hbWUsIGxhYmVsTmFtZSwgbGlzdEFwaSwgcGFyYW1zLCByZXNldCwgcmVzLCBtb2RlbFNlbGVjdE1hcCwgZGljdDsKICAgICAgICByZXR1cm4gKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgICAgICAgICAgbW9kZWxOYW1lID0gcGFyYW1zTWFwWyJtb2RlbE5hbWUiXTsKICAgICAgICAgICAgICBsYWJlbE5hbWUgPSBwYXJhbXNNYXBbImxhYmVsTmFtZSJdOwogICAgICAgICAgICAgIGxpc3RBcGkgPSBwYXJhbXNNYXBbImxpc3RBcGkiXTsKICAgICAgICAgICAgICBwYXJhbXMgPSBwYXJhbXNNYXBbInBhcmFtcyJdOwogICAgICAgICAgICAgIHJlc2V0ID0gcGFyYW1zTWFwWyJyZXNldCJdOwogICAgICAgICAgICAgIGlmICghKCFyZXNldCAmJiBzdGF0ZS5tb2RlbFNlbGVjdE1hcFttb2RlbE5hbWVdKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHN0YXRlLm1vZGVsU2VsZWN0TWFwW21vZGVsTmFtZV0pOwogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICByZXR1cm4gbGlzdEFwaSgoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoewogICAgICAgICAgICAgICAgcGFnZU51bTogImFsbCIKICAgICAgICAgICAgICB9LCBwYXJhbXMpKTsKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmICghKHJlcy5jb2RlID09PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbW9kZWxTZWxlY3RNYXAgPSB7fTsKICAgICAgICAgICAgICBkaWN0ID0gW107CiAgICAgICAgICAgICAgcmVzLmRhdGEgJiYgcmVzLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICBkaWN0LnB1c2goewogICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbVtsYWJlbE5hbWVdLAogICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBpdGVtLnBhcmVudElkCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBtb2RlbFNlbGVjdE1hcFttb2RlbE5hbWVdID0gZGljdDsKICAgICAgICAgICAgICBjb21taXQoInNldE1vZGVsU2VsZWN0TWFwIiwgbW9kZWxTZWxlY3RNYXApOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHN0YXRlLm1vZGVsU2VsZWN0TWFwW21vZGVsTmFtZV0pOwogICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgZ2V0TW9kZWxTZWxlY3Q6IGZ1bmN0aW9uIGdldE1vZGVsU2VsZWN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5tb2RlbFNlbGVjdE1hcDsKICAgIH0KICB9Cn07CnZhciBfZGVmYXVsdCA9IGV4cG9ydHMuZGVmYXVsdCA9IG1vZGVsU2VsZWN0Ow=="},{"version":3,"names":["modelSelect","namespaced","state","modelSelectMap","mutations","setModelSelectMap","_objectSpread2","default","actions","getModelSelect","_ref","paramsMap","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","commit","modelName","labelName","listApi","params","reset","res","dict","wrap","_callee$","_context","prev","next","abrupt","pageNum","sent","code","data","map","item","push","label","value","id","parentId","stop","getters","_default","exports"],"sources":["/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js"],"sourcesContent":["const modelSelect = {\n  namespaced: true,\n  state: {\n    modelSelectMap: {}\n  },\n  mutations: {\n    setModelSelectMap(state, modelSelectMap) {\n      state.modelSelectMap = { ...state.modelSelectMap, ...modelSelectMap };\n    }\n  },\n  actions: {\n    // 从后台获取需要 select 选择数据\n    // modelName : 模型 name\n    // labelName : 后端接口返回时，配置下拉选择时显示的名字字段，如：name/title/nickName\n    // listApi : 查询列表的api\n    async getModelSelect({ commit, state }, paramsMap) {\n      const modelName = paramsMap[\"modelName\"];\n      const labelName = paramsMap[\"labelName\"];\n      const listApi = paramsMap[\"listApi\"];\n      const params = paramsMap[\"params\"];\n      const reset = paramsMap[\"reset\"];\n      if (!reset && state.modelSelectMap[modelName]) {\n        return state.modelSelectMap[modelName];\n      } else {\n        const res = await listApi({ pageNum: \"all\", ...params });\n        if (res.code === 200) {\n          const modelSelectMap = {};\n          const dict = [];\n          res.data && res.data.map(item => {\n            dict.push({\n              label: item[labelName],\n              value: item.id,\n              id: item.id,\n              parentId: item.parentId\n            });\n          });\n          modelSelectMap[modelName] = dict;\n          commit(\"setModelSelectMap\", modelSelectMap);\n          return state.modelSelectMap[modelName];\n        }\n      }\n    }\n  },\n  getters: {\n    getModelSelect(state) {\n      return state.modelSelectMap;\n    }\n  }\n};\nexport default modelSelect;\n"],"mappings":"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"}]}