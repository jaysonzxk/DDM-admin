{"remainingRequest":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/DDM-admin/src/utils/request.js","dependencies":[{"path":"/Users/mac/Desktop/DDM-admin/src/utils/request.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/babel.config.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1703645364828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL21hYy9EZXNrdG9wL0RETS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE5vdGlmaWNhdGlvbiwgTWVzc2FnZUJveCwgTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtdWkiOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gIkAvdXRpbHMvYXV0aCI7CmltcG9ydCBlcnJvckNvZGUgZnJvbSAiQC91dGlscy9lcnJvckNvZGUiOwpheGlvcy5kZWZhdWx0cy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiOwovLyDliJvlu7pheGlvc+WunuS+iwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgLy8gYXhpb3PkuK3or7fmsYLphY3nva7mnIliYXNlVVJM6YCJ6aG577yM6KGo56S66K+35rGCVVJM5YWs5YWx6YOo5YiGCiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyDotoXml7YKICB0aW1lb3V0OiAxMDAwMAp9KTsKLy8gcmVxdWVzdOaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8g5piv5ZCm6ZyA6KaB6K6+572uIHRva2VuCiAgdmFyIGlzVG9rZW4gPSAoY29uZmlnLmhlYWRlcnMgfHwge30pLmlzVG9rZW4gPT09IGZhbHNlOwogIGlmIChnZXRUb2tlbigpICYmICFpc1Rva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkpXVCAiICsgZ2V0VG9rZW4oKTsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bim6Ieq5a6a5LmJdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfQogIC8vIGdldOivt+axguaYoOWwhHBhcmFtc+WPguaVsAogIGlmIChjb25maWcubWV0aG9kID09PSAiZ2V0IiAmJiBjb25maWcucGFyYW1zKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybCArICI/IjsKICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnLnBhcmFtcyk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykgewogICAgICB2YXIgcHJvcE5hbWUgPSBfT2JqZWN0JGtleXNbX2ldOwogICAgICB2YXIgdmFsdWUgPSBjb25maWcucGFyYW1zW3Byb3BOYW1lXTsKICAgICAgdmFyIHBhcnQgPSBlbmNvZGVVUklDb21wb25lbnQocHJvcE5hbWUpICsgIj0iOwogICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGlmIChfdHlwZW9mKHZhbHVlKSA9PT0gIm9iamVjdCIpIHsKICAgICAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9PYmplY3Qka2V5czIgPSBPYmplY3Qua2V5cyh2YWx1ZSk7IF9pMiA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICB2YXIga2V5ID0gX09iamVjdCRrZXlzMltfaTJdOwogICAgICAgICAgICB2YXIgcGFyYW1zID0gcHJvcE5hbWUgKyAiWyIgKyBrZXkgKyAiXSI7CiAgICAgICAgICAgIHZhciBzdWJQYXJ0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcykgKyAiPSI7CiAgICAgICAgICAgIHVybCArPSBzdWJQYXJ0ICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlW2tleV0pICsgIiYiOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB1cmwgKz0gcGFydCArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyAiJiI7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICB1cmwgPSB1cmwuc2xpY2UoMCwgLTEpOwogICAgY29uZmlnLnBhcmFtcyA9IHt9OwogICAgY29uZmlnLnVybCA9IHVybDsKICB9CiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgY29uc29sZS5sb2coZXJyb3IpOwogIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgovLyDlk43lupTmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICAvLyDmnKrorr7nva7nirbmgIHnoIHliJnpu5jorqTmiJDlip/nirbmgIEKICB2YXIgY29kZSA9IHJlcy5kYXRhLmNvZGUgfHwgMjAwOwogIC8vIOiOt+WPlumUmeivr+S/oeaBrwogIHZhciBtc2cgPSBlcnJvckNvZGVbY29kZV0gfHwgcmVzLmRhdGEubXNnIHx8IGVycm9yQ29kZVsiZGVmYXVsdCJdOwogIGNvbnNvbGUubG9nKGNvZGUpOwogIGlmIChjb2RlID09PSA0MDEpIHsKICAgIE1lc3NhZ2VCb3guY29uZmlybSgi55m75b2V54q25oCB5bey6L+H5pyf77yM5oKo5Y+v5Lul57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VIiwgIuezu+e7n+aPkOekuiIsIHsKICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLph43mlrDnmbvlvZUiLAogICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgdHlwZTogIndhcm5pbmciCiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgbG9jYXRpb24uaHJlZiA9ICIvaW5kZXgiOwogICAgfSk7CiAgfSBlbHNlIGlmIChjb2RlID09PSA1MDApIHsKICAgIE1lc3NhZ2UoewogICAgICBtZXNzYWdlOiBtc2csCiAgICAgIHR5cGU6ICJlcnJvciIKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihtc2cpKTsKICB9IGVsc2UgaWYgKGNvZGUgIT09IDIwMCkgewogICAgTm90aWZpY2F0aW9uLmVycm9yKHsKICAgICAgdGl0bGU6IG1zZwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoImVycm9yIik7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXMuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCJlcnIiICsgZXJyb3IpOwogIHZhciBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICBpZiAobWVzc2FnZSA9PSAiTmV0d29yayBFcnJvciIpIHsKICAgIG1lc3NhZ2UgPSAi5ZCO56uv5o6l5Y+j6L+e5o6l5byC5bi4IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoInRpbWVvdXQiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6Por7fmsYLotoXml7YiOwogIH0gZWxzZSBpZiAobWVzc2FnZS5pbmNsdWRlcygiUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSIpKSB7CiAgICBtZXNzYWdlID0gIuezu+e7n+aOpeWPoyIgKyBtZXNzYWdlLnN1YnN0cihtZXNzYWdlLmxlbmd0aCAtIDMpICsgIuW8guW4uCI7CiAgfQogIE1lc3NhZ2UoewogICAgbWVzc2FnZTogbWVzc2FnZSwKICAgIHR5cGU6ICJlcnJvciIsCiAgICBkdXJhdGlvbjogNSAqIDEwMDAKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"names":["axios","Notification","MessageBox","Message","getToken","errorCode","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","method","params","url","_i","_Object$keys","Object","keys","length","propName","value","part","encodeURIComponent","_typeof","_i2","_Object$keys2","key","subPart","slice","error","console","log","Promise","reject","response","res","code","data","msg","confirm","confirmButtonText","cancelButtonText","type","then","location","href","message","Error","title","includes","substr","duration"],"sources":["/Users/mac/Desktop/DDM-admin/src/utils/request.js"],"sourcesContent":["import axios from \"axios\";\nimport { Notification, MessageBox, Message } from \"element-ui\";\nimport { getToken } from \"@/utils/auth\";\nimport errorCode from \"@/utils/errorCode\";\n\naxios.defaults.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n// 创建axios实例\nconst service = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 10000\n});\n// request拦截器\nservice.interceptors.request.use(config => {\n  // 是否需要设置 token\n  const isToken = (config.headers || {}).isToken === false;\n  if (getToken() && !isToken) {\n    config.headers[\"Authorization\"] = \"JWT \" + getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  // get请求映射params参数\n  if (config.method === \"get\" && config.params) {\n    let url = config.url + \"?\";\n    for (const propName of Object.keys(config.params)) {\n      const value = config.params[propName];\n      var part = encodeURIComponent(propName) + \"=\";\n      if (value !== null && typeof (value) !== \"undefined\") {\n        if (typeof value === \"object\") {\n          for (const key of Object.keys(value)) {\n            const params = propName + \"[\" + key + \"]\";\n            var subPart = encodeURIComponent(params) + \"=\";\n            url += subPart + encodeURIComponent(value[key]) + \"&\";\n          }\n        } else {\n          url += part + encodeURIComponent(value) + \"&\";\n        }\n      }\n    }\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  return config;\n}, error => {\n  console.log(error);\n  Promise.reject(error);\n});\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n  // 未设置状态码则默认成功状态\n  const code = res.data.code || 200;\n  // 获取错误信息\n  const msg = errorCode[code] || res.data.msg || errorCode[\"default\"];\n  console.log(code)\n  if (code === 401) {\n    MessageBox.confirm(\"登录状态已过期，您可以继续留在该页面，或者重新登录\", \"系统提示\", {\n      confirmButtonText: \"重新登录\",\n      cancelButtonText: \"取消\",\n      type: \"warning\"\n    }\n    ).then(() => {\n      location.href = \"/index\";\n    });\n  } else if (code === 500) {\n    Message({\n      message: msg,\n      type: \"error\"\n    });\n    return Promise.reject(new Error(msg));\n  } else if (code !== 200) {\n    Notification.error({\n      title: msg\n    });\n    return Promise.reject(\"error\");\n  } else {\n    return res.data;\n  }\n},\nerror => {\n  console.log(\"err\" + error);\n  let { message } = error;\n  if (message == \"Network Error\") {\n    message = \"后端接口连接异常\";\n  } else if (message.includes(\"timeout\")) {\n    message = \"系统接口请求超时\";\n  } else if (message.includes(\"Request failed with status code\")) {\n    message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n  }\n  Message({\n    message: message,\n    type: \"error\",\n    duration: 5 * 1000\n  });\n  return Promise.reject(error);\n}\n);\n\nexport default service;\n"],"mappings":"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"}]}