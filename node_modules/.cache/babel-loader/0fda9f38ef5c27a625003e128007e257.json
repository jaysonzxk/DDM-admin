{"remainingRequest":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jayson/Desktop/work/DDM-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jayson/Desktop/work/DDM-admin/src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jayson/Desktop/work/DDM-admin/src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue","mtime":1720245294017},{"path":"/Users/jayson/Desktop/work/DDM-admin/babel.config.js","mtime":1720245284261},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1720245285342},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/vue-loader/lib/index.js","mtime":1720245293567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiL1VzZXJzL2pheXNvbi9EZXNrdG9wL3dvcmsvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmQuanMiKS5kZWZhdWx0Owp2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoIi9Vc2Vycy9qYXlzb24vRGVza3RvcC93b3JrL0RETS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKdmFyIFN5bmNEYXRhQXBpID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiQC9hcGkvYWRtaW4vbW9uaXRvci9jZWxlcnkiKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdDIgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgcHJvcHM6IHsKICAgIGVudGl0eTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgY3JlYXRlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgd2lkdGg6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiNTAlIgogICAgfSwKICAgIHRhZ3M6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3RzOiBbewogICAgICAgIGxhYmVsOiAi5aSpIiwKICAgICAgICB2YWx1ZTogImRheXMiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuWwj+aXtiIsCiAgICAgICAgdmFsdWU6ICJob3VycyIKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi5YiG6ZKfIiwKICAgICAgICB2YWx1ZTogIm1pbnV0ZXMiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuenkiIsCiAgICAgICAgdmFsdWU6ICJzZWNvbmRzIgogICAgICB9XSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBmb3JtOiB7CiAgICAgICAgaW5zdGFuY2VJZDogIiIsCiAgICAgICAgZXZlcnk6IDEsCiAgICAgICAgcGVyaW9kOiAiIiwKICAgICAgICB0aXRsZTogIiIKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaWFsb2dUaXRsZTogZnVuY3Rpb24gZGlhbG9nVGl0bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSA/ICLmlrDlop7ku7vliqHpopHnjociIDogIue8lui+keS7u+WKoemikeeOhyI7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB2YWw7CiAgICB9LAogICAgZGlhbG9nVmlzaWJsZTogZnVuY3Rpb24gZGlhbG9nVmlzaWJsZSh2YWwpIHsKICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWwpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGRpYWxvZ09wZW46IGZ1bmN0aW9uIGRpYWxvZ09wZW4oKSB7CiAgICAgIC8vIOS4ulRydWXmhI/lkbPnnYDmmK/pgJrov4fpgY3lj4rmlrnlvI/miZPlvIDlr7nor53moYYKICAgICAgaWYgKCF0aGlzLmNyZWF0ZSkgewogICAgICAgIHRoaXMuZm9ybSA9ICgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgdGhpcy5lbnRpdHkpOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgdmFyIGRhdGEgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoe30sIF90aGlzLmZvcm0pOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuZm9ybSk7CiAgICAgICAgICBpZiAoX3RoaXMuY3JlYXRlKSB7CiAgICAgICAgICAgIGRlbGV0ZSBkYXRhWyJpbnN0YW5jZUlkIl07CiAgICAgICAgICAgIFN5bmNEYXRhQXBpLmNyZWF0ZUludGVydmFsc2NoZWR1bGUoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInN1Y2Nlc3MiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dDbG9zZSgpOwogICAgICAgICAgICAgIF90aGlzLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyEiKTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBTeW5jRGF0YUFwaS51cGRhdGVJbnRlcnZhbHNjaGVkdWxlKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoInN1Y2Nlc3MiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMubXNnU3VjY2Vzcygi5pu05paw5oiQ5YqfISIpOwogICAgICAgICAgICAgIF90aGlzLmRpYWxvZ0Nsb3NlKCk7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkaWFsb2dDbG9zZTogZnVuY3Rpb24gZGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLiRwYXJlbnQuaW5pdERhdGEoKTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["SyncDataApi","_interopRequireWildcard","require","props","entity","type","Object","default","value","Boolean","create","width","String","tags","Array","_default","data","lists","label","loading","dialogVisible","form","instanceId","every","period","title","computed","dialogTitle","watch","val","$emit","created","methods","dialogOpen","_objectSpread2","handleSubmit","_this","$refs","validate","valid","console","log","createIntervalschedule","then","response","dialogClose","msgSuccess","catch","updateIntervalschedule","resetFields","$parent","initData"],"sources":["src/views/admin/monitor/celery/interval-task/edit-form-Interval-task.vue"],"sourcesContent":["<!--\n@author: xuchi\n@description: 接口编辑组件\n-->\n<template>\n  <small-dialog\n    ref=\"dialog\"\n    v-model=\"dialogVisible\"\n    :dialog-title=\"dialogTitle\"\n    :width=\"width\"\n    icon=\"svg:icon-interface\"\n    @confirm=\"handleSubmit\"\n    @closed=\"dialogClose\"\n    @opened=\"dialogOpen\"\n  >\n    <el-form ref=\"form\" v-loading=\"loading\" :model=\"form\" :size=\"$ELEMENT.size\" label-width=\"120px\">\n      <el-form-item v-show=\"false\" prop=\"instanceId\" label=\"instanceId\" style=\"width: 200px;\">\n        <el-input v-model=\"form.instanceId\" readonly />\n      </el-form-item>\n      <el-form-item prop=\"every\" label=\"频率:\">\n        <el-input-number v-model=\"form.every\" :min=\"1\" label=\"频率\" />\n      </el-form-item>\n      <el-form-item prop=\"period\" label=\"周期:\">\n        <el-select v-model=\"form.period\" placeholder=\"请选择\">\n          <el-option\n            v-for=\"(item,index) in lists\"\n            :key=\"index.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n    </el-form>\n  </small-dialog>\n</template>\n<script>\nimport * as SyncDataApi from \"@/api/admin/monitor/celery\";\n\nexport default {\n  props: {\n    entity: { type: Object, default: null },\n    value: { type: Boolean, default: null },\n    create: { type: Boolean, default: false },\n    width: { type: String, default: \"50%\" },\n    tags: { type: Array, default: () => [] }\n  },\n  data() {\n    return {\n      lists: [\n        { label: \"天\", value: \"days\" },\n        { label: \"小时\", value: \"hours\" },\n        { label: \"分钟\", value: \"minutes\" },\n        { label: \"秒\", value: \"seconds\" }\n      ],\n      loading: false,\n      dialogVisible: false,\n      form: {\n        instanceId: \"\",\n        every: 1,\n        period: \"\",\n        title: \"\"\n      }\n    };\n  },\n  computed: {\n    dialogTitle() {\n      return this.create ? \"新增任务频率\" : \"编辑任务频率\";\n    }\n  },\n  watch: {\n    value(val) {\n      this.dialogVisible = val;\n    },\n    dialogVisible(val) {\n      this.$emit(\"input\", val);\n    }\n  },\n  created() {\n  },\n  methods: {\n    dialogOpen() {\n      // 为True意味着是通过遍及方式打开对话框\n      if (!this.create) {\n        this.form = { ...this.entity };\n      }\n    },\n    handleSubmit() {\n      this.$refs[\"form\"].validate((valid) => {\n        if (valid) {\n          this.loading = true;\n          const data = { ...this.form };\n          console.log(this.form);\n          if (this.create) {\n            delete data[\"instanceId\"];\n            SyncDataApi.createIntervalschedule(data).then(response => {\n              this.loading = false;\n              this.$emit(\"success\", response.data);\n              this.dialogClose();\n              this.msgSuccess(\"新增成功!\");\n            }).catch(() => {\n              this.loading = false;\n            });\n          } else {\n            SyncDataApi.updateIntervalschedule(data).then(response => {\n              this.$emit(\"success\", response.data);\n              this.loading = false;\n              this.msgSuccess(\"更新成功!\");\n              this.dialogClose();\n            }).catch(() => {\n              this.loading = false;\n            });\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    dialogClose() {\n      this.$refs[\"form\"].resetFields();\n      this.$parent.initData();\n      this.dialogVisible = false;\n    }\n  }\n};\n</script>\n\n"],"mappings":";;;;;;;;;AAoCA,IAAAA,WAAA,GAAAC,uBAAA,CAAAC,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAEA;EACAC,KAAA;IACAC,MAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,OAAA;IAAA;IACAC,KAAA;MAAAH,IAAA,EAAAI,OAAA;MAAAF,OAAA;IAAA;IACAG,MAAA;MAAAL,IAAA,EAAAI,OAAA;MAAAF,OAAA;IAAA;IACAI,KAAA;MAAAN,IAAA,EAAAO,MAAA;MAAAL,OAAA;IAAA;IACAM,IAAA;MAAAR,IAAA,EAAAS,KAAA;MAAAP,OAAA,WAAAQ,SAAA;QAAA;MAAA;IAAA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,KAAA,GACA;QAAAC,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,GACA;QAAAU,KAAA;QAAAV,KAAA;MAAA,EACA;MACAW,OAAA;MACAC,aAAA;MACAC,IAAA;QACAC,UAAA;QACAC,KAAA;QACAC,MAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,WAAA,WAAAA,YAAA;MACA,YAAAjB,MAAA;IACA;EACA;EACAkB,KAAA;IACApB,KAAA,WAAAA,MAAAqB,GAAA;MACA,KAAAT,aAAA,GAAAS,GAAA;IACA;IACAT,aAAA,WAAAA,cAAAS,GAAA;MACA,KAAAC,KAAA,UAAAD,GAAA;IACA;EACA;EACAE,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACAC,UAAA,WAAAA,WAAA;MACA;MACA,UAAAvB,MAAA;QACA,KAAAW,IAAA,OAAAa,cAAA,CAAA3B,OAAA,WAAAH,MAAA;MACA;IACA;IACA+B,YAAA,WAAAA,aAAA;MAAA,IAAAC,KAAA;MACA,KAAAC,KAAA,SAAAC,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACAH,KAAA,CAAAjB,OAAA;UACA,IAAAH,IAAA,OAAAkB,cAAA,CAAA3B,OAAA,MAAA6B,KAAA,CAAAf,IAAA;UACAmB,OAAA,CAAAC,GAAA,CAAAL,KAAA,CAAAf,IAAA;UACA,IAAAe,KAAA,CAAA1B,MAAA;YACA,OAAAM,IAAA;YACAhB,WAAA,CAAA0C,sBAAA,CAAA1B,IAAA,EAAA2B,IAAA,WAAAC,QAAA;cACAR,KAAA,CAAAjB,OAAA;cACAiB,KAAA,CAAAN,KAAA,YAAAc,QAAA,CAAA5B,IAAA;cACAoB,KAAA,CAAAS,WAAA;cACAT,KAAA,CAAAU,UAAA;YACA,GAAAC,KAAA;cACAX,KAAA,CAAAjB,OAAA;YACA;UACA;YACAnB,WAAA,CAAAgD,sBAAA,CAAAhC,IAAA,EAAA2B,IAAA,WAAAC,QAAA;cACAR,KAAA,CAAAN,KAAA,YAAAc,QAAA,CAAA5B,IAAA;cACAoB,KAAA,CAAAjB,OAAA;cACAiB,KAAA,CAAAU,UAAA;cACAV,KAAA,CAAAS,WAAA;YACA,GAAAE,KAAA;cACAX,KAAA,CAAAjB,OAAA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA0B,WAAA,WAAAA,YAAA;MACA,KAAAR,KAAA,SAAAY,WAAA;MACA,KAAAC,OAAA,CAAAC,QAAA;MACA,KAAA/B,aAAA;IACA;EACA;AACA"}]}