{"remainingRequest":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js","dependencies":[{"path":"/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/babel.config.js","mtime":1702065174000},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1703645363792},{"path":"/Users/mac/Desktop/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1703645364828}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL21hYy9EZXNrdG9wL0RETS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWMvRGVza3RvcC9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvbWFjL0Rlc2t0b3AvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKdmFyIG1vZGVsU2VsZWN0ID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIG1vZGVsU2VsZWN0TWFwOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRNb2RlbFNlbGVjdE1hcDogZnVuY3Rpb24gc2V0TW9kZWxTZWxlY3RNYXAoc3RhdGUsIG1vZGVsU2VsZWN0TWFwKSB7CiAgICAgIHN0YXRlLm1vZGVsU2VsZWN0TWFwID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5tb2RlbFNlbGVjdE1hcCksIG1vZGVsU2VsZWN0TWFwKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vIOS7juWQjuWPsOiOt+WPlumcgOimgSBzZWxlY3Qg6YCJ5oup5pWw5o2uCiAgICAvLyBtb2RlbE5hbWUgOiDmqKHlnosgbmFtZQogICAgLy8gbGFiZWxOYW1lIDog5ZCO56uv5o6l5Y+j6L+U5Zue5pe277yM6YWN572u5LiL5ouJ6YCJ5oup5pe25pi+56S655qE5ZCN5a2X5a2X5q6177yM5aaC77yabmFtZS90aXRsZS9uaWNrTmFtZQogICAgLy8gbGlzdEFwaSA6IOafpeivouWIl+ihqOeahGFwaQogICAgZ2V0TW9kZWxTZWxlY3Q6IGZ1bmN0aW9uIGdldE1vZGVsU2VsZWN0KF9yZWYsIHBhcmFtc01hcCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBtb2RlbE5hbWUsIGxhYmVsTmFtZSwgbGlzdEFwaSwgcGFyYW1zLCByZXNldCwgcmVzLCBtb2RlbFNlbGVjdE1hcCwgZGljdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgIG1vZGVsTmFtZSA9IHBhcmFtc01hcFsibW9kZWxOYW1lIl07CiAgICAgICAgICAgICAgbGFiZWxOYW1lID0gcGFyYW1zTWFwWyJsYWJlbE5hbWUiXTsKICAgICAgICAgICAgICBsaXN0QXBpID0gcGFyYW1zTWFwWyJsaXN0QXBpIl07CiAgICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zTWFwWyJwYXJhbXMiXTsKICAgICAgICAgICAgICByZXNldCA9IHBhcmFtc01hcFsicmVzZXQiXTsKICAgICAgICAgICAgICBpZiAoISghcmVzZXQgJiYgc3RhdGUubW9kZWxTZWxlY3RNYXBbbW9kZWxOYW1lXSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzdGF0ZS5tb2RlbFNlbGVjdE1hcFttb2RlbE5hbWVdKTsKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgcmV0dXJuIGxpc3RBcGkoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICBwYWdlTnVtOiAiYWxsIgogICAgICAgICAgICAgIH0sIHBhcmFtcykpOwogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgPT09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBtb2RlbFNlbGVjdE1hcCA9IHt9OwogICAgICAgICAgICAgIGRpY3QgPSBbXTsKICAgICAgICAgICAgICByZXMuZGF0YSAmJiByZXMuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgIGRpY3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtW2xhYmVsTmFtZV0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6IGl0ZW0ucGFyZW50SWQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIG1vZGVsU2VsZWN0TWFwW21vZGVsTmFtZV0gPSBkaWN0OwogICAgICAgICAgICAgIGNvbW1pdCgic2V0TW9kZWxTZWxlY3RNYXAiLCBtb2RlbFNlbGVjdE1hcCk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3RhdGUubW9kZWxTZWxlY3RNYXBbbW9kZWxOYW1lXSk7CiAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRNb2RlbFNlbGVjdDogZnVuY3Rpb24gZ2V0TW9kZWxTZWxlY3Qoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm1vZGVsU2VsZWN0TWFwOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgbW9kZWxTZWxlY3Q7"},{"version":3,"names":["modelSelect","namespaced","state","modelSelectMap","mutations","setModelSelectMap","_objectSpread","actions","getModelSelect","_ref","paramsMap","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","modelName","labelName","listApi","params","reset","res","dict","wrap","_callee$","_context","prev","next","abrupt","pageNum","sent","code","data","map","item","push","label","value","id","parentId","stop","getters"],"sources":["/Users/mac/Desktop/DDM-admin/src/store/modules/modelSelect.js"],"sourcesContent":["const modelSelect = {\n  namespaced: true,\n  state: {\n    modelSelectMap: {}\n  },\n  mutations: {\n    setModelSelectMap(state, modelSelectMap) {\n      state.modelSelectMap = { ...state.modelSelectMap, ...modelSelectMap };\n    }\n  },\n  actions: {\n    // 从后台获取需要 select 选择数据\n    // modelName : 模型 name\n    // labelName : 后端接口返回时，配置下拉选择时显示的名字字段，如：name/title/nickName\n    // listApi : 查询列表的api\n    async getModelSelect({ commit, state }, paramsMap) {\n      const modelName = paramsMap[\"modelName\"];\n      const labelName = paramsMap[\"labelName\"];\n      const listApi = paramsMap[\"listApi\"];\n      const params = paramsMap[\"params\"];\n      const reset = paramsMap[\"reset\"];\n      if (!reset && state.modelSelectMap[modelName]) {\n        return state.modelSelectMap[modelName];\n      } else {\n        const res = await listApi({ pageNum: \"all\", ...params });\n        if (res.code === 200) {\n          const modelSelectMap = {};\n          const dict = [];\n          res.data && res.data.map(item => {\n            dict.push({\n              label: item[labelName],\n              value: item.id,\n              id: item.id,\n              parentId: item.parentId\n            });\n          });\n          modelSelectMap[modelName] = dict;\n          commit(\"setModelSelectMap\", modelSelectMap);\n          return state.modelSelectMap[modelName];\n        }\n      }\n    }\n  },\n  getters: {\n    getModelSelect(state) {\n      return state.modelSelectMap;\n    }\n  }\n};\nexport default modelSelect;\n"],"mappings":";;;;AAAA,IAAMA,WAAW,GAAG;EAClBC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,cAAc,EAAE,CAAC;EACnB,CAAC;EACDC,SAAS,EAAE;IACTC,iBAAiB,WAAAA,kBAACH,KAAK,EAAEC,cAAc,EAAE;MACvCD,KAAK,CAACC,cAAc,GAAAG,aAAA,CAAAA,aAAA,KAAQJ,KAAK,CAACC,cAAc,GAAKA,cAAc,CAAE;IACvE;EACF,CAAC;EACDI,OAAO,EAAE;IACP;IACA;IACA;IACA;IACMC,cAAc,WAAAA,eAAAC,IAAA,EAAoBC,SAAS,EAAE;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,MAAA,EAAAb,KAAA,EAAAc,SAAA,EAAAC,SAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,GAAA,EAAAlB,cAAA,EAAAmB,IAAA;QAAA,OAAAV,mBAAA,GAAAW,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAA5BZ,MAAM,GAAAN,IAAA,CAANM,MAAM,EAAEb,KAAK,GAAAO,IAAA,CAALP,KAAK;cAC5Bc,SAAS,GAAGN,SAAS,CAAC,WAAW,CAAC;cAClCO,SAAS,GAAGP,SAAS,CAAC,WAAW,CAAC;cAClCQ,OAAO,GAAGR,SAAS,CAAC,SAAS,CAAC;cAC9BS,MAAM,GAAGT,SAAS,CAAC,QAAQ,CAAC;cAC5BU,KAAK,GAAGV,SAAS,CAAC,OAAO,CAAC;cAAA,MAC5B,CAACU,KAAK,IAAIlB,KAAK,CAACC,cAAc,CAACa,SAAS,CAAC;gBAAAS,QAAA,CAAAE,IAAA;gBAAA;cAAA;cAAA,OAAAF,QAAA,CAAAG,MAAA,WACpC1B,KAAK,CAACC,cAAc,CAACa,SAAS,CAAC;YAAA;cAAAS,QAAA,CAAAE,IAAA;cAAA,OAEpBT,OAAO,CAAAZ,aAAA;gBAAGuB,OAAO,EAAE;cAAK,GAAKV,MAAM,CAAE,CAAC;YAAA;cAAlDE,GAAG,GAAAI,QAAA,CAAAK,IAAA;cAAA,MACLT,GAAG,CAACU,IAAI,KAAK,GAAG;gBAAAN,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACZxB,cAAc,GAAG,CAAC,CAAC;cACnBmB,IAAI,GAAG,EAAE;cACfD,GAAG,CAACW,IAAI,IAAIX,GAAG,CAACW,IAAI,CAACC,GAAG,CAAC,UAAAC,IAAI,EAAI;gBAC/BZ,IAAI,CAACa,IAAI,CAAC;kBACRC,KAAK,EAAEF,IAAI,CAACjB,SAAS,CAAC;kBACtBoB,KAAK,EAAEH,IAAI,CAACI,EAAE;kBACdA,EAAE,EAAEJ,IAAI,CAACI,EAAE;kBACXC,QAAQ,EAAEL,IAAI,CAACK;gBACjB,CAAC,CAAC;cACJ,CAAC,CAAC;cACFpC,cAAc,CAACa,SAAS,CAAC,GAAGM,IAAI;cAChCP,MAAM,CAAC,mBAAmB,EAAEZ,cAAc,CAAC;cAAC,OAAAsB,QAAA,CAAAG,MAAA,WACrC1B,KAAK,CAACC,cAAc,CAACa,SAAS,CAAC;YAAA;YAAA;cAAA,OAAAS,QAAA,CAAAe,IAAA;UAAA;QAAA,GAAA1B,OAAA;MAAA;IAG5C;EACF,CAAC;EACD2B,OAAO,EAAE;IACPjC,cAAc,WAAAA,eAACN,KAAK,EAAE;MACpB,OAAOA,KAAK,CAACC,cAAc;IAC7B;EACF;AACF,CAAC;AACD,eAAeH,WAAW"}]}