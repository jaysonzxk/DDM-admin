{"remainingRequest":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js!/Users/jayson/Desktop/work/DDM-admin/src/utils/request.js","dependencies":[{"path":"/Users/jayson/Desktop/work/DDM-admin/src/utils/request.js","mtime":1720245294013},{"path":"/Users/jayson/Desktop/work/DDM-admin/babel.config.js","mtime":1720245284261},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1720245285342}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMvamF5c29uL0Rlc2t0b3Avd29yay9ERE0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL1VzZXJzL2pheXNvbi9EZXNrdG9wL3dvcmsvRERNLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIpKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyIpOwp2YXIgX2F4aW9zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKdmFyIF9lbGVtZW50VWkgPSByZXF1aXJlKCJlbGVtZW50LXVpIik7CnZhciBfYXV0aCA9IHJlcXVpcmUoIkAvdXRpbHMvYXV0aCIpOwp2YXIgX2Vycm9yQ29kZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC91dGlscy9lcnJvckNvZGUiKSk7Cl9heGlvcy5kZWZhdWx0LmRlZmF1bHRzLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCI7Ci8vIOWIm+W7umF4aW9z5a6e5L6LCnZhciBzZXJ2aWNlID0gX2F4aW9zLmRlZmF1bHQuY3JlYXRlKHsKICAvLyBheGlvc+S4reivt+axgumFjee9ruaciWJhc2VVUkzpgInpobnvvIzooajnpLror7fmsYJVUkzlhazlhbHpg6jliIYKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIOi2heaXtgogIHRpbWVvdXQ6IDEwMDAwCn0pOwovLyByZXF1ZXN05oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyDmmK/lkKbpnIDopoHorr7nva4gdG9rZW4KICB2YXIgaXNUb2tlbiA9IChjb25maWcuaGVhZGVycyB8fCB7fSkuaXNUb2tlbiA9PT0gZmFsc2U7CiAgaWYgKCgwLCBfYXV0aC5nZXRUb2tlbikoKSAmJiAhaXNUb2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbIkF1dGhvcml6YXRpb24iXSA9ICJKV1QgIiArICgwLCBfYXV0aC5nZXRUb2tlbikoKTsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bim6Ieq5a6a5LmJdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfQogIC8vIGdldOivt+axguaYoOWwhHBhcmFtc+WPguaVsAogIGlmIChjb25maWcubWV0aG9kID09PSAiZ2V0IiAmJiBjb25maWcucGFyYW1zKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybCArICI/IjsKICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnLnBhcmFtcyk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykgewogICAgICB2YXIgcHJvcE5hbWUgPSBfT2JqZWN0JGtleXNbX2ldOwogICAgICB2YXIgdmFsdWUgPSBjb25maWcucGFyYW1zW3Byb3BOYW1lXTsKICAgICAgdmFyIHBhcnQgPSBlbmNvZGVVUklDb21wb25lbnQocHJvcE5hbWUpICsgIj0iOwogICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlICE9PSAidW5kZWZpbmVkIikgewogICAgICAgIGlmICgoMCwgX3R5cGVvZjIuZGVmYXVsdCkodmFsdWUpID09PSAib2JqZWN0IikgewogICAgICAgICAgZm9yICh2YXIgX2kyID0gMCwgX09iamVjdCRrZXlzMiA9IE9iamVjdC5rZXlzKHZhbHVlKTsgX2kyIDwgX09iamVjdCRrZXlzMi5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgIHZhciBrZXkgPSBfT2JqZWN0JGtleXMyW19pMl07CiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBwcm9wTmFtZSArICJbIiArIGtleSArICJdIjsKICAgICAgICAgICAgdmFyIHN1YlBhcnQgPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zKSArICI9IjsKICAgICAgICAgICAgdXJsICs9IHN1YlBhcnQgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVba2V5XSkgKyAiJiI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHVybCArPSBwYXJ0ICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSArICImIjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHVybCA9IHVybC5zbGljZSgwLCAtMSk7CiAgICBjb25maWcucGFyYW1zID0ge307CiAgICBjb25maWcudXJsID0gdXJsOwogIH0KICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZyhlcnJvcik7CiAgUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKCi8vIOWTjeW6lOaLpuaIquWZqApzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIC8vIOacquiuvue9rueKtuaAgeeggeWImem7mOiupOaIkOWKn+eKtuaAgQogIHZhciBjb2RlID0gcmVzLmRhdGEuY29kZSB8fCAyMDA7CiAgLy8g6I635Y+W6ZSZ6K+v5L+h5oGvCiAgdmFyIG1zZyA9IF9lcnJvckNvZGUuZGVmYXVsdFtjb2RlXSB8fCByZXMuZGF0YS5tc2cgfHwgX2Vycm9yQ29kZS5kZWZhdWx0WyJkZWZhdWx0Il07CiAgY29uc29sZS5sb2coY29kZSk7CiAgaWYgKGNvZGUgPT09IDQwMSkgewogICAgX2VsZW1lbnRVaS5NZXNzYWdlQm94LmNvbmZpcm0oIueZu+W9leeKtuaAgeW3sui/h+acn++8jOaCqOWPr+S7pee7p+e7reeVmeWcqOivpemhtemdou+8jOaIluiAhemHjeaWsOeZu+W9lSIsICLns7vnu5/mj5DnpLoiLCB7CiAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi6YeN5paw55m75b2VIiwKICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIGxvY2F0aW9uLmhyZWYgPSAiL2luZGV4IjsKICAgIH0pOwogIH0gZWxzZSBpZiAoY29kZSA9PT0gNTAwKSB7CiAgICAoMCwgX2VsZW1lbnRVaS5NZXNzYWdlKSh7CiAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgdHlwZTogImVycm9yIgogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1zZykpOwogIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICBfZWxlbWVudFVpLk5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgIHRpdGxlOiBtc2cKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCJlcnJvciIpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygiZXJyIiArIGVycm9yKTsKICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgaWYgKG1lc3NhZ2UgPT0gIk5ldHdvcmsgRXJyb3IiKSB7CiAgICBtZXNzYWdlID0gIuWQjuerr+aOpeWPo+i/nuaOpeW8guW4uCI7CiAgfSBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCJ0aW1lb3V0IikpIHsKICAgIG1lc3NhZ2UgPSAi57O757uf5o6l5Y+j6K+35rGC6LaF5pe2IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6MiICsgbWVzc2FnZS5zdWJzdHIobWVzc2FnZS5sZW5ndGggLSAzKSArICLlvILluLgiOwogIH0KICAoMCwgX2VsZW1lbnRVaS5NZXNzYWdlKSh7CiAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgdHlwZTogImVycm9yIiwKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSBzZXJ2aWNlOw=="},{"version":3,"names":["_axios","_interopRequireDefault","require","_elementUi","_auth","_errorCode","axios","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","getToken","method","params","url","_i","_Object$keys","Object","keys","length","propName","value","part","encodeURIComponent","_typeof2","default","_i2","_Object$keys2","key","subPart","slice","error","console","log","Promise","reject","response","res","code","data","msg","errorCode","MessageBox","confirm","confirmButtonText","cancelButtonText","type","then","location","href","Message","message","Error","Notification","title","includes","substr","duration","_default","exports"],"sources":["/Users/jayson/Desktop/work/DDM-admin/src/utils/request.js"],"sourcesContent":["import axios from \"axios\";\nimport { Notification, MessageBox, Message } from \"element-ui\";\nimport { getToken } from \"@/utils/auth\";\nimport errorCode from \"@/utils/errorCode\";\n\naxios.defaults.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\n// 创建axios实例\nconst service = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 10000\n});\n// request拦截器\nservice.interceptors.request.use(config => {\n  // 是否需要设置 token\n  const isToken = (config.headers || {}).isToken === false;\n  if (getToken() && !isToken) {\n    config.headers[\"Authorization\"] = \"JWT \" + getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  // get请求映射params参数\n  if (config.method === \"get\" && config.params) {\n    let url = config.url + \"?\";\n    for (const propName of Object.keys(config.params)) {\n      const value = config.params[propName];\n      var part = encodeURIComponent(propName) + \"=\";\n      if (value !== null && typeof (value) !== \"undefined\") {\n        if (typeof value === \"object\") {\n          for (const key of Object.keys(value)) {\n            const params = propName + \"[\" + key + \"]\";\n            var subPart = encodeURIComponent(params) + \"=\";\n            url += subPart + encodeURIComponent(value[key]) + \"&\";\n          }\n        } else {\n          url += part + encodeURIComponent(value) + \"&\";\n        }\n      }\n    }\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  return config;\n}, error => {\n  console.log(error);\n  Promise.reject(error);\n});\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n  // 未设置状态码则默认成功状态\n  const code = res.data.code || 200;\n  // 获取错误信息\n  const msg = errorCode[code] || res.data.msg || errorCode[\"default\"];\n  console.log(code)\n  if (code === 401) {\n    MessageBox.confirm(\"登录状态已过期，您可以继续留在该页面，或者重新登录\", \"系统提示\", {\n      confirmButtonText: \"重新登录\",\n      cancelButtonText: \"取消\",\n      type: \"warning\"\n    }\n    ).then(() => {\n      location.href = \"/index\";\n    });\n  } else if (code === 500) {\n    Message({\n      message: msg,\n      type: \"error\"\n    });\n    return Promise.reject(new Error(msg));\n  } else if (code !== 200) {\n    Notification.error({\n      title: msg\n    });\n    return Promise.reject(\"error\");\n  } else {\n    return res.data;\n  }\n},\nerror => {\n  console.log(\"err\" + error);\n  let { message } = error;\n  if (message == \"Network Error\") {\n    message = \"后端接口连接异常\";\n  } else if (message.includes(\"timeout\")) {\n    message = \"系统接口请求超时\";\n  } else if (message.includes(\"Request failed with status code\")) {\n    message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n  }\n  Message({\n    message: message,\n    type: \"error\",\n    duration: 5 * 1000\n  });\n  return Promise.reject(error);\n}\n);\n\nexport default service;\n"],"mappings":"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"}]}