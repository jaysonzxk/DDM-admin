{"remainingRequest":"/Users/jayson/Desktop/work/DDM-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jayson/Desktop/work/DDM-admin/src/views/admin/advertise/imageAds/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/jayson/Desktop/work/DDM-admin/src/views/admin/advertise/imageAds/index.vue","mtime":1721546974079},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/babel-loader/lib/index.js","mtime":1720245285342},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/cache-loader/dist/cjs.js","mtime":1720245288376},{"path":"/Users/jayson/Desktop/work/DDM-admin/node_modules/vue-loader/lib/index.js","mtime":1720245293567}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgaW1hZ2VBZHMsCiAgYWRkSW1hZ2VBZCwKICBnZXRJbWFnZUFkLAogIHVwZGF0ZUltYWdlQWQsCiAgc2VhcmNoTWVyY2hhbnRzLAogIGFsbEJvdE1lbnUsCiAgaW1hZ2VBZFJlbmV3YWwsCiAgY2hlY2tFeHBpcmUKfSBmcm9tICJAL2FwaS9hZG1pbi9hZHZlcnRpc2UvaW1hZ2VBZCI7CmltcG9ydCB7Z2V0VG9rZW59IGZyb20gIkAvdXRpbHMvYXV0aCI7CmltcG9ydCB7cXVpbGxFZGl0b3J9IGZyb20gJ3Z1ZS1xdWlsbC1lZGl0b3InOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuY29yZS5jc3MnOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MnOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuYnViYmxlLmNzcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkltYWdlQWRzIiwKICBjb21wb25lbnRzOiB7CiAgICBxdWlsbEVkaXRvcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiAnJywKICAgICAgZWRpdG9yT3B0aW9uOiBudWxsLAogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIHJlbmV3YWxPcGVuOiBmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOS4iuS8oOeahOWbvueJh+acjeWKoeWZqOWcsOWdgAogICAgICB1cGxvYWRJbWdVcmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEkgKyAiL2FkbWluL3VwbG9hZCIsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzZWFyY2hMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit55qE5YC8CiAgICAgIHNlbGVjdGVkVmFsdWU6ICcnLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnlKjmiLfooajmoLzmlbDmja4KICAgICAgaW1hZ2VBZDogbnVsbCwKICAgICAgLy8g6I+c5Y2V5pWw5o2uCiAgICAgIG1lbnVMaXN0OiBudWxsLAogICAgICAvLyDllYblrrYKICAgICAgbWVyY2hhbnRzTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIHJlbmV3YWxUaXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g6buY6K6k5a+G56CBCiAgICAgIGluaXRQYXNzd29yZDogdW5kZWZpbmVkLAogICAgICAvLyDliLDmnJ/ml7bpl7QKICAgICAgZXhwaXJlRGF0ZXRpbWU6IG51bGwsCiAgICAgIC8vIOaXpeacn+iMg+WbtAogICAgICBkYXRlUmFuZ2U6IFtdLAogICAgICAvLyDnirbmgIHmlbDmja7lrZflhbgKICAgICAgc3RhdHVzT3B0aW9uczogW3tkaWN0TGFiZWw6ICLlkK/nlKgiLCBkaWN0VmFsdWU6IDF9LCB7ZGljdExhYmVsOiAi5YGc55SoIiwgZGljdFZhbHVlOiAwfV0sCiAgICAgIC8vIOeDremXqAogICAgICBob3RzT3B0aW9uczogW3tkaWN0TGFiZWw6ICLng63pl6giLCBkaWN0VmFsdWU6IDF9LCB7ZGljdExhYmVsOiAi5LiN54Ot6ZeoIiwgZGljdFZhbHVlOiAwfV0sCiAgICAgIC8vIOaOqOiNkAogICAgICByZWNvbW1lbmRPcHRpb25zOiBbe2RpY3RMYWJlbDogIuaOqOiNkCIsIGRpY3RWYWx1ZTogMX0sIHtkaWN0TGFiZWw6ICLkuI3mjqjojZAiLCBkaWN0VmFsdWU6IDB9XSwKICAgICAgLy8g5oCn5Yir54q25oCB5a2X5YW4CiAgICAgIHNleE9wdGlvbnM6IFtdLAogICAgICAvLyDlspfkvY3pgInpobkKICAgICAgcG9zdE9wdGlvbnM6IFtdLAogICAgICAvLyDop5LoibLpgInpobkKICAgICAgcm9sZU9wdGlvbnM6IFtdLAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIHJlbmV3YWxEYXRhOiB7fSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICJjaGlsZHJlbiIsCiAgICAgICAgbGFiZWw6ICJsYWJlbCIKICAgICAgfSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgbmFtZTogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkLAogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBtZW51TmFtZTogWwogICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6I+c5Y2V5ZCN56ew5LiN6IO95Li656m6IiwgdHJpZ2dlcjogImJsdXIifQogICAgICAgIF0sCgogICAgICB9LAogICAgICBob3N0OiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJICsgJy8nLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkpXVCAiICsgZ2V0VG9rZW4oKQogICAgICB9CiAgICB9OwogIH0sCiAgd2F0Y2g6IHt9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIC8vIOW3peWFt+agj+mFjee9rgogICAgY29uc3QgdG9vbGJhck9wdGlvbiA9IFsKICAgICAgWyJib2xkIiwgIml0YWxpYyIsICJ1bmRlcmxpbmUiLCAic3RyaWtlIl0sCiAgICAgIFsiYmxvY2txdW90ZSIsICJjb2RlLWJsb2NrIl0sCiAgICAgIFt7aGVhZGVyOiAxfSwge2hlYWRlcjogMn1dLAogICAgICBbe2xpc3Q6ICJvcmRlcmVkIn0sIHtsaXN0OiAiYnVsbGV0In1dLAogICAgICBbe3NjcmlwdDogInN1YiJ9LCB7c2NyaXB0OiAic3VwZXIifV0sCiAgICAgIFt7aW5kZW50OiAiLTEifSwge2luZGVudDogIisxIn1dLAogICAgICBbe2RpcmVjdGlvbjogInJ0bCJ9XSwKICAgICAgW3tzaXplOiBbInNtYWxsIiwgZmFsc2UsICJsYXJnZSIsICJodWdlIl19XSwKICAgICAgW3toZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV19XSwKICAgICAgW3tjb2xvcjogW119LCB7YmFja2dyb3VuZDogW119XSwKICAgICAgW3tmb250OiBbXX1dLAogICAgICBbe2FsaWduOiBbXX1dLAogICAgICBbImNsZWFuIl0sCiAgICAgIFsiaW1hZ2UiLCAidmlkZW8iXQogICAgXTsKICAgIHRoaXMuZWRpdG9yT3B0aW9uID0gewogICAgICB0aGVtZTogInNub3ciLAogICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeato+aWhyIsCiAgICAgIG1vZHVsZXM6IHsKCiAgICAgICAgLy/orr7nva7lm77niYflpKflsI8sIOS5n+WPr+S7peS9v+eUqCJpbWFnZVJlc2l6ZTp0cnVlIu+8jOWumOe9keS4iumHh+eUqOeahOaYr+S4i+mdoueahOmFjee9ruaWueW8jwogICAgICAgIGltYWdlUmVzaXplOiB7CiAgICAgICAgICBkaXNwbGF5U3R5bGVzOiB7CiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JsYWNrJywKICAgICAgICAgICAgYm9yZGVyOiAnbm9uZScsCiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnCiAgICAgICAgICB9LAogICAgICAgICAgbW9kdWxlczogWydSZXNpemUnLCAnRGlzcGxheVNpemUnLCAnVG9vbGJhciddCiAgICAgICAgfSwKICAgICAgICB0b29sYmFyOiB7CiAgICAgICAgICBjb250YWluZXI6IHRvb2xiYXJPcHRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZUltYWdlKCkgewogICAgICB0aGlzLnZhbHVlID0gJyc7CiAgICB9LAogICAgaGFuZGxlVXBsb2FkU3VjY2VzcyhyZXMpIHsKICAgICAgdGhpcy5mb3JtLnVyaSA9IHJlcy5kYXRhLmltYWdlLnNwbGl0KCcvJykuc2xpY2UocmVzLmRhdGEuaW1hZ2Uuc3BsaXQoJy8nKS5sZW5ndGggLSAzLCByZXMuZGF0YS5pbWFnZS5zcGxpdCgnLycpLmxlbmd0aCkuam9pbignLycpCiAgICAgIHRoaXMudmFsdWUgPSByZXMuZGF0YS5pbWFnZTsKICAgICAgdGhpcy5sb2FkaW5nLmNsb3NlKCk7CiAgICB9LAogICAgaGFuZGxlQmVmb3JlVXBsb2FkKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLiRsb2FkaW5nKHsKICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgIHRleHQ6ICLkuIrkvKDkuK0iLAogICAgICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVVwbG9hZEVycm9yKCkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDlpLHotKUiCiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmcuY2xvc2UoKTsKICAgIH0sCiAgICB1cmkoZGF0YSkgewogICAgICB0aGlzLmZvcm0udXJpID0gZGF0YTsKICAgIH0sCiAgICBjaGVja1RpbWVFeHBpcmUoKSB7CiAgICAgIGNoZWNrRXhwaXJlKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgLy8gdGhpcy5tc2dTdWNjZXNzKCLmo4DpqozmiJDlip8iKTsKICAgICAgfSkKICAgIH0sCiAgICBzZWFyY2hRdWVyeShxdWVyeSkgewogICAgICBpZiAocXVlcnkgIT09ICcnKSB7CiAgICAgICAgdGhpcy5zZWFyY2hMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAvLyDmqKHmi5/mjqXlj6PosIPnlKjvvIzlrp7pmYXlupTnlKjkuK3lupTmm7/mjaLkuLrnnJ/lrp7nmoTmjqXlj6PlnLDlnYAKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIC8vIOi/memHjOeahG1vY2tEYXRh5bqU6K+l5piv6YCa6L+H5o6l5Y+j6K+35rGC6I635Y+W55qE5pWw5o2uCiAgICAgICAgICBzZWFyY2hNZXJjaGFudHMocXVlcnkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLm1lcmNoYW50c0xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSkKICAgICAgICAgIHRoaXMuc2VhcmNoTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0sIDIwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tZXJjaGFudHNMaXN0ID0gW107CiAgICAgIH0KICAgIH0sCiAgICAvLyDmqKHns4rmn6Xor6LllYblrrYKICAgIC8vIGdldE1lcmNoYW50cyhwYXJhbXMpIHsKCiAgICAvLyAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAvLyAgICAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMubWVyY2hhbnRzTGlzdC5maWx0ZXIoaXRlbSA9PiB7CiAgICAvLyAgICAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbC50b0xvd2VyQ2FzZSgpCiAgICAvLyAgICAgICAgICAgICAgICAgLmluZGV4T2YocGFyYW1zLnRvTG93ZXJDYXNlKCkpID4gLTE7CiAgICAvLyAgICAgICAgIH0pOwogICAgLy8gICAgIH0sIDIwMCk7CgogICAgLy8gfSwKICAgIC8vIOiOt+WPluaJgOS7peiPnOWNlQogICAgZ2V0QWxsTWVudSgpIHsKICAgICAgYWxsQm90TWVudSgpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubWVudUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgfSwKICAgIC8qKiDmn6Xor6LliJfooajlub/lkYogKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMuY2hlY2tUaW1lRXhwaXJlKCk7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGltYWdlQWRzKHRoaXMuYWRkRGF0ZVJhbmdlKHRoaXMucXVlcnlQYXJhbXMsIHRoaXMuZGF0ZVJhbmdlKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuaW1hZ2VBZCA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEuY291bnQ7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICApOwogICAgfSwKCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVuZXdhbE9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogdW5kZWZpbmVkLAogICAgICAgIG5hbWU6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IDEsCiAgICAgICAgZGVzY3JpcHRpb246IHVuZGVmaW5lZCwKICAgICAgICBzb3J0OiB1bmRlZmluZWQsCiAgICAgICAgaXNSZWNvbW1lbmQ6IDAsCiAgICAgICAgaXNIb3Q6IDAsCiAgICAgICAgbWVyY2hhbnRfaWQ6IHVuZGVmaW5lZAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2UgPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOwogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgfSwKICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldEFsbE1lbnUoKTsKICAgICAgLy8gdGhpcy5nZXRNZXJjaGFudHMoKTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy50aXRsZSA9ICLlvIDpgJrlub/lkYoiOwogICAgfSwKICAgIC8vIOe7rei0ueW8ueeqlwogICAgaGFuZGxlUmVuZXdhbChyb3cpIHsKICAgICAgY29uc3QgaWQgPSByb3cuaWQ7CiAgICAgIHRoaXMucmVuZXdhbERhdGEgPSB7CiAgICAgICAgaWQ6IGlkLAogICAgICAgIGV4cGlyZURhdGV0aW1lOiB0aGlzLmV4cGlyZURhdGV0aW1lLAogICAgICB9CiAgICAgIHRoaXMucmVuZXdhbE9wZW4gPSB0cnVlOwogICAgICB0aGlzLnJlbmV3YWxUaXRsZSA9ICfnu63otLknOwogICAgfSwKICAgIHJlbmV3YWxGb3JtKCkgewogICAgICBsaXN0QWRSZW5ld2FsKHRoaXMucmVuZXdhbERhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubXNnU3VjY2Vzcygi57ut6LS55oiQ5YqfIik7CiAgICAgICAgdGhpcy5yZW5ld2FsT3BlbiA9IGZhbHNlOwogICAgICAgIC8vIHRoaXMuY2hlY2tUaW1lRXhwaXJlKCk7CiAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgIH0pCiAgICB9LAoKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldEFsbE1lbnUoKTsKICAgICAgY29uc3QgaWQgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgIGdldEltYWdlQWQoaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMuZm9ybSA9IGRhdGE7CiAgICAgICAgdGhpcy5mb3JtLmJvdE1lbnUgPSBkYXRhLmJvdE1lbnUuaWQ7CiAgICAgICAgdGhpcy5mb3JtLm1lcmNoYW50ID0gZGF0YS5tZXJjaGFudC5uYW1lOwogICAgICAgIC8vIHRoaXMuZm9ybS5tZXJjaGFudF9pZCA9IGRhdGEubWVyY2hhbnQuaWQ7CiAgICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgICB0aGlzLnRpdGxlID0gIuS/ruaUueW5v+WRiiI7CiAgICAgIH0pOwogICAgfSwKCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtLmlkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZGVsZXRlIHRoaXMuZm9ybVsnbWVyY2hhbnQnXTsKICAgICAgICAgICAgdXBkYXRlSW1hZ2VBZCh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5L+u5pS55oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5jaGVja1RpbWVFeHBpcmUoKTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRJbWFnZUFkKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCiAgICAvLyBoYW5kbGVEZWxldGUocm93KSB7CiAgICAvLyAgICAgY29uc3QgdXNlcklkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgIC8vICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTnlKjmiLfnvJblj7fkuLoiJyArIHVzZXJJZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewogICAgLy8gICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAvLyAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgLy8gICAgICAgICB0eXBlOiAid2FybmluZyIKICAgIC8vICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgIC8vICAgICAgICAgcmV0dXJuIGRlbFVzZXIodXNlcklkcyk7CiAgICAvLyAgICAgfSkudGhlbigoKSA9PiB7CiAgICAvLyAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgLy8gICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgLy8gICAgIH0pOwogICAgLy8gfSwKICB9Cn07CgovLyDoh6rlrprkuYnpqozor4Hop4TliJkKZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgaWYgKHZhbHVlID09PSAwIHx8IHZhbHVlID09PSAxKSB7CiAgICBjYWxsYmFjaygpOyAvLyDpqozor4HpgJrov4cKICB9IGVsc2UgewogICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaUw5oiWMSgw5Luj6KGo5LiN5o6o6I2QLDHku6PooajmjqjojZApJykpOyAvLyDpqozor4HlpLHotKUKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/admin/advertise/imageAds","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row>\n      <!--用户数据-->\n      <el-col :span=\"20\" :xs=\"24\">\n        <el-form v-show=\"showSearch\" ref=\"queryForm\" :model=\"queryParams\" :inline=\"true\" label-width=\"68px\">\n          <el-form-item label=\"商户名称\" prop=\"name\">\n            <el-input v-model=\"queryParams.name\" placeholder=\"请输入商户名称\" clearable size=\"small\"\n                      style=\"width: 240px\" @keyup.enter.native=\"handleQuery\"/>\n          </el-form-item>\n          <el-form-item label=\"状态\" prop=\"is_active\">\n            <el-select v-model=\"queryParams.status\" placeholder=\"商户状态\" clearable size=\"small\"\n                       style=\"width: 240px\">\n              <el-option v-for=\"dict in statusOptions\" :key=\"dict.dictValue\" :label=\"dict.dictLabel\"\n                         :value=\"dict.dictValue\"/>\n            </el-select>\n          </el-form-item>\n          <el-form-item v-if=\"false\" label=\"创建时间\">\n            <el-date-picker v-model=\"dateRange\" size=\"small\" style=\"width: 240px\" value-format=\"yyyy-MM-dd\"\n                            type=\"daterange\" range-separator=\"-\" start-placeholder=\"开始日期\"\n                            end-placeholder=\"结束日期\"/>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n          </el-form-item>\n        </el-form>\n\n        <el-row :gutter=\"10\" class=\"mb8\">\n          <el-col :span=\"1.5\">\n            <el-button v-hasPermi=\"['permission:user:post']\" type=\"primary\" plain icon=\"el-icon-plus\"\n                       size=\"mini\" @click=\"handleAdd\">开通\n            </el-button>\n          </el-col>\n\n          <right-toolbar :show-search.sync=\"showSearch\" @queryTable=\"getList\"/>\n        </el-row>\n\n        <el-table v-loading=\"loading\" :data=\"imageAd\" @selection-change=\"handleSelectionChange\">\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\"/>\n          <el-table-column key=\"name\" label=\"广告名称\" align=\"center\" prop=\"name\" :show-overflow-tooltip=\"true\"\n                           width=\"160\"/>\n          <el-table-column key=\"telegarmUrl\" label=\"商户链接\" align=\"center\" prop=\"telegarmUrl\"\n                           :show-overflow-tooltip=\"true\" width=\"160\"/>\n          <el-table-column key=\"address\" label=\"商户地址\" align=\"center\" prop=\"address\"\n                           :show-overflow-tooltip=\"true\" width=\"160\"/>\n          <el-table-column key=\"isExpire\" label=\"是否过期\" align=\"center\" prop=\"isExpire\"\n                           :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.isExpire === 0\" style=\"color: green;\">未到期</span>\n              <span v-else style=\"color: red;\">已到期</span>\n            </template>\n          </el-table-column>\n          <el-table-column key=\"botMenu\" label=\"关联菜单\" align=\"center\" prop=\"botMenu\"\n                           :show-overflow-tooltip=\"true\" width=\"160\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.botMenu.menuName }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column key=\"merchant\" label=\"关联商家\" align=\"center\" prop=\"botMenu\"\n                           :show-overflow-tooltip=\"true\" width=\"160\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.merchant.name }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column key=\"isRecommend\" label=\"是否推荐\" align=\"center\" prop=\"isRecommend\"\n                           :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.isRecommend === 0\">不推荐</span>\n              <span v-else>推荐</span>\n            </template>\n          </el-table-column>\n          <el-table-column key=\"isHot\" label=\"是否热门\" align=\"center\" prop=\"isHot\" :show-overflow-tooltip=\"true\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.isHot === 0\">不热门</span>\n              <span v-else>热门</span>\n            </template>\n          </el-table-column>\n          <el-table-column key=\"sort\" label=\"排序\" align=\"center\" prop=\"sort\" :show-overflow-tooltip=\"true\"/>\n          <el-table-column key=\"count\" label=\"点击次数\" align=\"center\" prop=\"count\"\n                           :show-overflow-tooltip=\"true\"/>\n          <el-table-column key=\"status\" label=\"状态\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <span v-if=\"scope.row.status === 1\">启用</span>\n              <span v-else>禁用</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"到期时间\" align=\"center\" prop=\"expireDatetime\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <span>{{ parseTime(scope.row.expireDatetime) }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"更新时间\" align=\"center\" prop=\"update_datetime\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <span>{{ parseTime(scope.row.update_datetime) }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"创建时间\" align=\"center\" prop=\"create_datetime\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <span>{{ parseTime(scope.row.create_datetime) }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"160\"\n                           class-name=\"small-padding fixed-width\">\n            <template slot-scope=\"scope\">\n              <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdate(scope.row)\">修改\n              </el-button>\n              <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleRenewal(scope.row)\">续期\n              </el-button>\n\n\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\"\n                    :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\"/>\n      </el-col>\n    </el-row>\n\n    <!-- 添加或修改参数配置对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"800px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"广告名称\" prop=\"name\">\n              <el-input v-model=\"form.name\" placeholder=\"请输入广告名称\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row style=\"height: 400px;\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"广告内容\" prop=\"context\">\n              <!--              <el-input v-model=\"form.context\" type=\"textarea\" prefix-icon=\"el-icon-search\"-->\n              <!--                        suffix-icon=\"el-icon-date\" placeholder=\"请输入广告内容\"/>-->\n\n              <quill-editor v-bind:options=\"editorOption\" v-model=\"form.context\" style=\"height: 300px\"></quill-editor>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"20\">\n            <el-form-item label=\"广告图\" prop=\"uri\">\n              <!-- <upload v-model=\"form.uri\" @uri=\"uri\" :uri=\"form.uri\"></upload> -->\n              <el-upload :action=\"uploadImgUrl\" list-type=\"picture-card\" :on-success=\"handleUploadSuccess\"\n                         :before-upload=\"handleBeforeUpload\" :on-error=\"handleUploadError\" name=\"file\"\n                         :show-file-list=\"false\" :headers=\"headers\"\n                         style=\"display: inline-block; vertical-align: top\"\n                         v-model=\"form.uri\">\n                <el-image v-if=\"!value\" :src=\"value\">\n                  <div slot=\"error\" class=\"image-slot\">\n                    <i class=\"el-icon-plus\"/>\n                  </div>\n                </el-image>\n                <div v-else class=\"image\">\n                  <el-image :src=\"value\" :style=\"`width:360px;height:150px;`\" fit=\"fill\"/>\n                  <div class=\"mask\">\n                    <div class=\"actions\">\n                                            <span title=\"预览\" @click.stop=\"dialogVisible = true\">\n                                                <i class=\"el-icon-zoom-in\"/>\n                                            </span>\n                      <span title=\"移除\" @click.stop=\"removeImage\">\n                                                <i class=\"el-icon-delete\"/>\n                                            </span>\n                    </div>\n                  </div>\n                </div>\n\n              </el-upload>\n              <el-dialog :visible.sync=\"dialogVisible\" title=\"预览\" width=\"800\" append-to-body>\n                <img :src=\"value\" style=\"display: block; max-width: 100%; margin: 0 auto;\">\n              </el-dialog>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"商家地址\" prop=\"address\">\n              <el-input v-model=\"form.address\" placeholder=\"请输入商户地址\" type=\"textarea\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"到期时间\" prop=\"expireDatetime\">\n              <el-date-picker v-model=\"form.expireDatetime\" size=\"small\" style=\"width: 200px\"\n                              value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"到期时间\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"20\">\n            <el-form-item label=\"关联商家\" prop=\"merchant\">\n              <el-select v-model=\"form.merchant\" filterable remote placeholder=\"请输入关键词\"\n                         :remote-method=\"searchQuery\" :loading=\"searchLoading\" :disabled=\"disabled\">\n                <el-option v-for=\"item in merchantsList\" :key=\"item.id\" :label=\"item.value\"\n                           :value=\"item.id\">\n                </el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"排序\" prop=\"sort\">\n              <el-input v-model=\"form.sort\" placeholder=\"排序\" type=\"number\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"是否推荐\" prop=\"isRecommend\">\n              <el-radio-group v-model=\"form.isRecommend\">\n                <el-radio v-for=\"dict in recommendOptions\" :key=\"dict.dictValue\"\n                          :label=\"dict.dictValue\">{{\n                    dict.dictLabel\n                  }}\n                </el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"是否热门\" prop=\"isHot\">\n              <el-radio-group v-model=\"form.isHot\">\n                <el-radio v-for=\"dict in hotsOptions\" :key=\"dict.dictValue\" :label=\"dict.dictValue\">{{\n                    dict.dictLabel\n                  }}\n                </el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n        </el-row>\n\n        <el-row>\n          <el-col :span=\"12\">\n            <el-form-item label=\"状态\">\n              <el-radio-group v-model=\"form.status\">\n                <el-radio v-for=\"dict in statusOptions\" :key=\"dict.dictValue\" :label=\"dict.dictValue\">{{\n                    dict.dictLabel\n                  }}\n                </el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n        </el-row>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"备注\" prop=\"description\">\n              <el-input v-model=\"form.description\" type=\"textarea\" placeholder=\"请输入内容\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n    <el-dialog :title=\"renewalTitle\" :visible.sync=\"renewalOpen\" width=\"600px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-form-item label=\"到期时间\" prop=\"expireDatetime\">\n              <el-date-picker v-model=\"renewalData.expireDatetime\" size=\"small\" style=\"width: 200px\"\n                              value-format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"到期时间\"/>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"renewalForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  imageAds,\n  addImageAd,\n  getImageAd,\n  updateImageAd,\n  searchMerchants,\n  allBotMenu,\n  imageAdRenewal,\n  checkExpire\n} from \"@/api/admin/advertise/imageAd\";\nimport {getToken} from \"@/utils/auth\";\nimport {quillEditor} from 'vue-quill-editor';\nimport 'quill/dist/quill.core.css';\nimport 'quill/dist/quill.snow.css';\nimport 'quill/dist/quill.bubble.css';\n\nexport default {\n  name: \"ImageAds\",\n  components: {\n    quillEditor\n  },\n  data() {\n    return {\n      value: '',\n      editorOption: null,\n      disabled: false,\n      renewalOpen: false,\n      dialogVisible: false,\n      // 上传的图片服务器地址\n      uploadImgUrl: process.env.VUE_APP_BASE_API + \"/admin/upload\",\n      // 遮罩层\n      loading: true,\n      searchLoading: false,\n      // 选中的值\n      selectedValue: '',\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 用户表格数据\n      imageAd: null,\n      // 菜单数据\n      menuList: null,\n      // 商家\n      merchantsList: [],\n      // 弹出层标题\n      title: \"\",\n      renewalTitle: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 默认密码\n      initPassword: undefined,\n      // 到期时间\n      expireDatetime: null,\n      // 日期范围\n      dateRange: [],\n      // 状态数据字典\n      statusOptions: [{dictLabel: \"启用\", dictValue: 1}, {dictLabel: \"停用\", dictValue: 0}],\n      // 热门\n      hotsOptions: [{dictLabel: \"热门\", dictValue: 1}, {dictLabel: \"不热门\", dictValue: 0}],\n      // 推荐\n      recommendOptions: [{dictLabel: \"推荐\", dictValue: 1}, {dictLabel: \"不推荐\", dictValue: 0}],\n      // 性别状态字典\n      sexOptions: [],\n      // 岗位选项\n      postOptions: [],\n      // 角色选项\n      roleOptions: [],\n      // 表单参数\n      form: {},\n      renewalData: {},\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        name: undefined,\n        status: undefined,\n      },\n      // 表单校验\n      rules: {\n        menuName: [\n          {required: true, message: \"菜单名称不能为空\", trigger: \"blur\"}\n        ],\n\n      },\n      host: process.env.VUE_APP_BASE_API + '/',\n      headers: {\n        Authorization: \"JWT \" + getToken()\n      }\n    };\n  },\n  watch: {},\n  created() {\n    this.getList();\n    // 工具栏配置\n    const toolbarOption = [\n      [\"bold\", \"italic\", \"underline\", \"strike\"],\n      [\"blockquote\", \"code-block\"],\n      [{header: 1}, {header: 2}],\n      [{list: \"ordered\"}, {list: \"bullet\"}],\n      [{script: \"sub\"}, {script: \"super\"}],\n      [{indent: \"-1\"}, {indent: \"+1\"}],\n      [{direction: \"rtl\"}],\n      [{size: [\"small\", false, \"large\", \"huge\"]}],\n      [{header: [1, 2, 3, 4, 5, 6, false]}],\n      [{color: []}, {background: []}],\n      [{font: []}],\n      [{align: []}],\n      [\"clean\"],\n      [\"image\", \"video\"]\n    ];\n    this.editorOption = {\n      theme: \"snow\",\n      placeholder: \"请输入正文\",\n      modules: {\n\n        //设置图片大小, 也可以使用\"imageResize:true\"，官网上采用的是下面的配置方式\n        imageResize: {\n          displayStyles: {\n            backgroundColor: 'black',\n            border: 'none',\n            color: 'white'\n          },\n          modules: ['Resize', 'DisplaySize', 'Toolbar']\n        },\n        toolbar: {\n          container: toolbarOption\n        }\n      }\n    }\n  },\n  methods: {\n    removeImage() {\n      this.value = '';\n    },\n    handleUploadSuccess(res) {\n      this.form.uri = res.data.image.split('/').slice(res.data.image.split('/').length - 3, res.data.image.split('/').length).join('/')\n      this.value = res.data.image;\n      this.loading.close();\n    },\n    handleBeforeUpload() {\n      this.loading = this.$loading({\n        lock: true,\n        text: \"上传中\",\n        background: \"rgba(0, 0, 0, 0.7)\"\n      });\n    },\n    handleUploadError() {\n      this.$message({\n        type: \"error\",\n        message: \"上传失败\"\n      });\n      this.loading.close();\n    },\n    uri(data) {\n      this.form.uri = data;\n    },\n    checkTimeExpire() {\n      checkExpire().then(response => {\n        // this.msgSuccess(\"检验成功\");\n      })\n    },\n    searchQuery(query) {\n      if (query !== '') {\n        this.searchLoading = true;\n        // 模拟接口调用，实际应用中应替换为真实的接口地址\n        setTimeout(() => {\n          // 这里的mockData应该是通过接口请求获取的数据\n          searchMerchants(query).then(response => {\n            this.merchantsList = response.data;\n          })\n          this.searchLoading = false;\n        }, 200);\n      } else {\n        this.merchantsList = [];\n      }\n    },\n    // 模糊查询商家\n    // getMerchants(params) {\n\n    //     this.loading = true;\n    //     setTimeout(() => {\n    //         this.loading = false;\n    //         this.options = this.merchantsList.filter(item => {\n    //             return item.label.toLowerCase()\n    //                 .indexOf(params.toLowerCase()) > -1;\n    //         });\n    //     }, 200);\n\n    // },\n    // 获取所以菜单\n    getAllMenu() {\n      allBotMenu().then(response => {\n        this.menuList = response.data;\n      })\n    },\n    /** 查询列表广告 */\n    getList() {\n      this.checkTimeExpire();\n      this.loading = true;\n      imageAds(this.addDateRange(this.queryParams, this.dateRange)).then(response => {\n            this.imageAd = response.data.results;\n            this.total = response.data.count;\n            this.loading = false;\n          }\n      );\n    },\n\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.renewalOpen = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: undefined,\n        name: undefined,\n        status: 1,\n        description: undefined,\n        sort: undefined,\n        isRecommend: 0,\n        isHot: 0,\n        merchant_id: undefined\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.page = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.dateRange = [];\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id);\n      this.single = selection.length !== 1;\n      this.multiple = !selection.length;\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset();\n      this.getAllMenu();\n      // this.getMerchants();\n      this.open = true;\n      this.title = \"开通广告\";\n    },\n    // 续费弹窗\n    handleRenewal(row) {\n      const id = row.id;\n      this.renewalData = {\n        id: id,\n        expireDatetime: this.expireDatetime,\n      }\n      this.renewalOpen = true;\n      this.renewalTitle = '续费';\n    },\n    renewalForm() {\n      listAdRenewal(this.renewalData).then(response => {\n        this.msgSuccess(\"续费成功\");\n        this.renewalOpen = false;\n        // this.checkTimeExpire();\n        this.getList();\n      })\n    },\n\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      this.getAllMenu();\n      const id = row.id || this.ids;\n      getImageAd(id).then(response => {\n        const data = response.data;\n        this.form = data;\n        this.form.botMenu = data.botMenu.id;\n        this.form.merchant = data.merchant.name;\n        // this.form.merchant_id = data.merchant.id;\n        this.open = true;\n        this.title = \"修改广告\";\n      });\n    },\n\n    /** 提交按钮 */\n    submitForm: function () {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.id !== undefined) {\n            delete this.form['merchant'];\n            updateImageAd(this.form).then(response => {\n              this.msgSuccess(\"修改成功\");\n              this.open = false;\n              this.checkTimeExpire();\n              this.getList();\n            });\n          } else {\n            addImageAd(this.form).then(response => {\n              this.msgSuccess(\"新增成功\");\n              this.open = false;\n              this.getList();\n            });\n          }\n        }\n      });\n    },\n    // /** 删除按钮操作 */\n    // handleDelete(row) {\n    //     const userIds = row.id || this.ids;\n    //     this.$confirm('是否确认删除用户编号为\"' + userIds + '\"的数据项?', \"警告\", {\n    //         confirmButtonText: \"确定\",\n    //         cancelButtonText: \"取消\",\n    //         type: \"warning\"\n    //     }).then(function () {\n    //         return delUser(userIds);\n    //     }).then(() => {\n    //         this.getList();\n    //         this.msgSuccess(\"删除成功\");\n    //     });\n    // },\n  }\n};\n\n// 自定义验证规则\nfunction validateNumber(rule, value, callback) {\n  if (value === 0 || value === 1) {\n    callback(); // 验证通过\n  } else {\n    callback(new Error('请输入0或1(0代表不推荐,1代表推荐)')); // 验证失败\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-upload--picture-card {\n  width: 360px !important;\n  height: 150px !important;\n}\n\n.image {\n  position: relative;\n\n  .mask {\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    transition: all 0.3s;\n  }\n\n  &:hover .mask {\n    opacity: 1;\n  }\n}\n\n.el-col-20 {\n  width: 100% !important;\n}\n</style>"]}]}